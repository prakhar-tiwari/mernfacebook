{"version":3,"sources":["setAuthToken.js","actions/authActions.js","actions/Types.js","components/auth/Login.js","components/auth/Signup.js","components/auth/Auth.js","utils/PrivateRoute.js","common/SearchBox.js","common/Navigation.js","actions/profileActions.js","actions/postActions.js","components/timeline/about/UserAbout.js","components/posts/TagFriends.js","components/posts/CreatePost.js","components/posts/comments/CreateComment.js","components/posts/comments/Comments.js","common/PostActions.js","common/PostActionResult.js","components/timeline/photos/Photo.js","components/timeline/photos/PhotoGrid.js","components/timeline/friends/FriendGrid.js","components/posts/SinglePost.js","components/timeline/TimeLine.js","components/timeline/About.js","components/timeline/Friends.js","components/timeline/Photos.js","components/timeline/TimeLineContainer.js","components/chat/ChatBox.js","components/chat/UserList.js","components/timeline/TimeLinePage.js","components/posts/comments/CommentContainer.js","common/PresentationLoader.js","components/posts/Feed.js","common/ErrorBoundary.js","components/posts/DashBoard.js","components/HomePage.js","App.js","serviceWorker.js","reducers/authReducer.js","reducers/postReducer.js","reducers/profileReducer.js","reducers/errorReducer.js","index.js"],"names":["setAuthToken","token","axios","defaults","headers","common","withCredentials","setCurrentUser","decodedToken","type","payload","socketInit","io","logout","dispatch","localStorage","removeItem","useStyles","makeStyles","theme","topNavBar","backgroundColor","backgroundImage","borderBottom","minHeight","position","zIndex","menuBarContainer","height","minWidth","loginNav","display","margin","width","floatLeft","float","clip","left","whiteSpace","color","fontSize","floatRight","paddingTop","inputText","borderColor","padding","loginButton","background","borderRadius","cursor","fontWeight","lineHeight","border","marginTop","textAlign","textDecoration","textShadow","verticalAlign","cssOutlinedInput","cssFocused","textInput","connect","state","auth","error","login","userLogin","post","then","result","data","setItem","jwt","verify","substring","catch","err","errors","Array","isArray","response","map","er","nestedErrors","param","msg","withRouter","props","useState","contactInfo","setContactInfo","password","setPassword","classes","useEffect","isAuthenticated","history","replace","className","Input","disabled","value","message","disableUnderline","inputProps","style","TextField","variant","placeholder","helperText","onChange","e","target","InputProps","root","focused","input","name","htmlFor","onClick","preventDefault","contentClearFix","outline","gradient","signupContent","leftContent","marginRight","leftContentText","wordSpacing","right","rightContent","maxWidth","rightContentText","fullNameContainer","notchedOutline","borderWidth","dayOfDOB","birthdayText","marginBottom","genderText","gender","boxSizing","signupButton","Signup","firstName","setFirstName","lastName","setLastName","setDayOfDOB","monthOfDOB","setMonthOfDOB","yearOfDOB","setYearOfDOB","setGender","setErrors","src","alt","registrationContainer","id","label","textField","fullWidth","birthday","day","index","key","month","year","Button","newUser","dob","console","log","length","render","component","to","dropDown","dropDownContent","inputRoot","fade","palette","black","inputInput","spacing","transition","transitions","create","breakpoints","up","searchOn","setSearchOn","friends","setFriends","searchedFriends","search","pathname","userName","postData","searchText","onFocus","Navigation","handleFriendNotificationPopper","event","userId","anchorFriend","setState","currentTarget","friendRequests","confirmFriend","tlUserId","user","anchorEl","mobileMoreAnchorEl","nextProps","this","split","openFriend","Boolean","isMenuOpen","isMobileMenuOpen","handleProfileMenuOpen","handleMobileMenuClose","handleMenuClose","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","onClose","MenuItem","renderMobileMenu","push","ListItemAvatar","Avatar","onError","profileImage","ListItemText","primary","IconButton","aria-label","Badge","badgeContent","aria-controls","aria-haspopup","grow","AppBar","headerBar","Toolbar","appBar","Typography","title","noWrap","searchIcon","sectionDesktop","Popper","popperElement","placement","disablePortal","modifiers","flip","enabled","Paper","popperContent","arrowFriend","friend","Fragment","_id","friendInfo","typography","confirmButton","declineFriend","declineButton","divider","edge","sectionMobile","Component","withStyles","flexGrow","menuButton","shape","white","marginLeft","pointerEvents","alignItems","justifyContent","content","bottom","borderStyle","overflow","transform","setTimeLineUser","authUserName","get","resultData","timeLineUser","authUser","userPosts","posts","userPost","createdBy","friendsPosts","filter","friendPost","flat","allPosts","hasMorePosts","status","getFeed","start","count","likePost","postId","clearAllPosts","userInfo","header","addBio","opacity","infoDetails","listStyleType","createBio","bioInput","bioButtons","button","titleBar","aboutAvatar","inline","UserAbout","React","bioClicked","setBioClicked","List","ListItem","multiline","Divider","tag","with","container","paper","chip","flexWrap","DownshiftMultiple","inputValue","setInputValue","selectedItem","setSelectedItem","friendSuggestions","setFriendSuggestions","handleKeyDown","slice","handleDelete","item","newSelectedItem","splice","indexOf","selected","getInputProps","getItemProps","getLabelProps","isOpen","inputValue2","selectedItem2","highlightedIndex","onKeyDown","onBlur","ref","other","inputRef","renderInput","InputLabelProps","startAdornment","Chip","tabIndex","onDelete","searchFriends","handleInputChange","square","showEmpty","trim","toLowerCase","inputLength","suggestion","keep","getSuggestions","suggestionProps","itemProps","isHighlighted","isSelected","renderSuggestion","taggedFriends","postHeader","footer","postButton","postIcon","card","media_image","backgroundPosition","media_video","imagePreviewBox","overflowX","imageBox","maxHeight","uploadImageBox","firstDivider","secondDivider","emojiPicker","submitPost","newPost","postText","setPostText","postFiles","setPostFiles","imagePreview","setImagePreview","videoPreview","setVideoPreview","imageName","setImageName","uploadedImages","setUploadedImages","uploadedVideos","setUploadedVideos","tagFriends","setTagFriends","setTaggedFriends","showEmoji","setShowEmoji","onImageChange","file","files","reader","fileType","fileArr","includes","FileReader","readAsDataURL","onloadend","imageDetails","imageSrc","updatedImages","unshift","videoDetails","videoSrc","updatedVideos","Card","CardMedia","image","controls","selectedFriends","video","Icon","icon","onSelect","emoji","native","text","onEmojiClick","taggedFIds","tFriend","formData","FormData","append","postFile","JSON","stringify","commentSection","commentBox","onCreateComment","createComment","commentText","setCommentText","onKeyPress","handleCommentText","wordBreak","messageBody","actionsList","Comments","comment","from","PostActions","actionItems","actionIcons","takeAction","handleLike","checkUserLike","PostActionResult","actionsResultItem","likeResultIcon","like","imageHolder","list","aboutImage","actionsResult","setOpen","setImage","setUserName","openPhoto","isImage","Dialog","onclose","find","l","comments","photoGrid","pictureGrid","gridList","photoAvatar","green","PhotoGrid","setIsImage","setOpenPhoto","setImageDetails","picturePost","images","imageUrl","videoPost","videos","videoUrl","GridList","cellHeight","cols","GridListTile","friendGrid","friendAvatar","pink","FriendGrid","GridListTileBar","postDescription","arrowTag","SinglePost","anchorE1","setAnchorE1","tags","tagsCount","otherTags","getFileData","featured","imageUrls","videoUrls","openTag","href","preventOverflow","boundariesElement","oTag","rows","imagePost","imageId","picPost","onPhotoClick","videoId","vidPost","onVideoClick","TimeLine","profile","pageDetails","Grid","xs","userAbout","RightContent","CreatePost","postItems","timeline","timeLineCover","coverPhoto","boxShadow","profilePicture","uploadPhotoDiv","updatePhoto","borderBottomLeftRadius","borderBottomRightRadius","uploadImageInput","timeLineNav","paddingLeft","navList","borderLeft","listItem","borderRight","totalFriends","actionContainer","interactingActions","otherActions","arrowFollow","About","about","aboutHeader","headerContent","personIcon","Friends","friendList","friendDetails","friendWrapper","friendStatusWrapper","friendStatus","friendButton","checkIcon","nameWrapper","friendNameWrapper","friendName","friendsHeader","personsIcon","friendsList","varticalAlign","Photos","photos","photosHeader","cameraIcon","TimeLineContainer","handleFriendPopper","anchorE2","handleFollowPopper","handleMouseOutFriend","handleMouseOutFollow","uploadProfilePhoto","uploadPhoto","isFriend","isFollowing","isUpload","innerHTML","tlFriendStatus","openFollow","onMouseEnter","onMouseLeave","sendFriendRequest","exact","path","ChatBox","scrollToBottom","messagesEndRef","current","scrollIntoView","behaviour","sendMessage","sender","reciever","chatMessage","res","socket","emit","allMessages","createRef","friendId","prevProps","prevState","once","updatedMessages","concat","sortedMessages","sort","a","b","createdAt","chatBoxMain","topBar","close","click","bind","chatBox","chatWindow","msgRight","msgLeft","sendMessageFooter","textBox","flexDirection","overflowY","borderTop","UserList","openModal","closeModal","sideNav","userList","contactsHeader","online","TimeLinePage","match","params","expansion","CommentContainer","commentsInPanel","i","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","ExpansionPanel","wrapper","wrapperCell","animatedBackground","animationDuration","animationFillMode","animationIterationCount","animationName","animationTimingFunction","textLine","PresentationLoader","Feed","fetchData","Math","ceil","dataLength","next","hasMore","pullDownToRefresh","refreshFunction","loader","ErrorBoundary","hasError","errorInfo","children","DashBoard","HomePage","App","Auth","window","location","hostname","initialState","authReducer","action","Object","entries","constructor","userUpdated","timeLinePosts","postReducer","profileReducer","errorReducer","middleware","thunk","rootReducer","combineReducers","store","createStore","compose","applyMiddleware","getItem","app","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9df76d9c.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst setAuthToken=(token)=>{\r\n    if(token){\r\n        axios.defaults.headers.common['Authorization']=token;\r\n        axios.defaults.withCredentials=true;\r\n    }\r\n    else{\r\n        delete axios.defaults.headers.common['Authorization'];\r\n    }\r\n}\r\n\r\nexport default setAuthToken;","import { SET_AUTH_USER, GET_ERRORS, SOCKET_CONNECT_URL,SOCKET_INIT } from './Types';\r\nimport axios from 'axios';\r\nimport jwt from 'jsonwebtoken';\r\nimport setAuthToken from '../setAuthToken';\r\nimport io from 'socket.io-client';\r\n\r\nexport const login = (userLogin) => dispatch => {\r\n   axios.post('login', userLogin)\r\n      .then(result => {\r\n         if (result.data.token) {\r\n            localStorage.setItem('token', result.data.token);\r\n            setAuthToken(result.data.token);\r\n            const decodedToken = jwt.verify(result.data.token.substring(7), 'secret');\r\n            dispatch(setCurrentUser(decodedToken));\r\n            dispatch(socketInit());\r\n         }\r\n      })\r\n      .catch(err => {\r\n         let errors = {}\r\n         if (Array.isArray(err.response.data)) {\r\n            err.response.data.map(er => {\r\n               if (er.nestedErrors) {\r\n                  errors[er.nestedErrors[0].param] = er.msg;\r\n               }\r\n               else {\r\n                  errors[er.param] = er.msg;\r\n               }\r\n            })\r\n         }\r\n         else {\r\n            errors = err.response.data;\r\n         }\r\n         dispatch({\r\n            type: GET_ERRORS,\r\n            payload: errors\r\n         })\r\n      })\r\n}\r\n\r\nexport const setCurrentUser = (decodedToken) => {\r\n   return {\r\n      type: SET_AUTH_USER,\r\n      payload: decodedToken\r\n   }\r\n}\r\n\r\nexport const socketInit = () => {\r\n   return {\r\n      type: SOCKET_INIT,\r\n      payload: io(SOCKET_CONNECT_URL)\r\n   }\r\n}\r\n\r\nexport const logout = () => dispatch => {\r\n   localStorage.removeItem('token');\r\n   setAuthToken(false);\r\n   dispatch(setCurrentUser({}));\r\n}","// action types\r\nexport const SET_AUTH_USER=\"SET_AUTH_USER\";\r\nexport const SET_PROFILE_IMAGE=\"SET_PROFILE_IMAGE\";\r\nexport const GET_FEED=\"GET_FEED\";\r\nexport const GET_TIMELINE_FEED=\"GET_TIMELINE_FEED\";\r\nexport const SUBMIT_POST=\"SUBMIT_POST\";\r\nexport const CLEAR_POSTS=\"CLEAR_POSTS\";\r\nexport const GET_FRIENDS=\"GET_FRIENDS\";\r\nexport const SET_TIMELINE_USER=\"SET_TIMELINE_USER\";\r\nexport const CREATE_COMMENT=\"CREATE_COMMENT\";\r\nexport const LIKE_COMMENT=\"LIKE_COMMENT\";\r\nexport const GET_ERRORS=\"GET_ERRORS\";\r\nexport const CLEAR_ERRORS=\"CLEAR_ERRORS\";\r\nexport const SOCKET_INIT=\"SOCKET_INIT\";\r\n\r\n\r\n// socket url\r\nexport const SOCKET_CONNECT_URL='/';\r\n\r\n// socket event\r\nexport const SEND_MESSAGE=\"SEND_MESSAGE\";\r\nexport const PRIVATE_CHAT_MESSAGE=\"PRIVATE_CHAT_MESSAGE\";\r\n","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../actions/authActions';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Input from '@material-ui/core/Input';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    topNavBar: {\r\n        backgroundColor: '#3b5998',\r\n        backgroundImage: 'linear-gradient(#4e69a2, #3b5998 50%)',\r\n        borderBottom: '1px solid #133783',\r\n        minHeight: '42px',\r\n        position: 'relative',\r\n        zIndex: 1,\r\n    },\r\n    menuBarContainer: {\r\n        height: '82px',\r\n        minWidth: '1100px',\r\n    },\r\n    loginNav: {\r\n        display: 'block',\r\n        margin: '0 auto',\r\n        width: '1100px',\r\n    },\r\n    floatLeft: {\r\n        float: 'left',\r\n        \"& h1\": {\r\n            clip: 'rect(1px, 1px, 1px, 1px)',\r\n            height: '1px',\r\n            left: 'auto',\r\n            whiteSpace: 'nowrap',\r\n            width: '1px',\r\n            color: '#fff',\r\n            fontSize:'36px'\r\n        }\r\n    },\r\n    floatRight: {\r\n        float: 'right',\r\n        paddingTop:'13px'\r\n    },\r\n    inputText: {\r\n        borderColor: '#1d2a5b',\r\n        margin: 0,\r\n        width: '180px',\r\n        padding:'4px 8px',\r\n        \"& input\": {\r\n            padding: '12px 10px'\r\n        }\r\n    },\r\n    loginButton: {\r\n        background: '#4267b2',\r\n        borderColor: '#29487d',\r\n        borderRadius: '2px',\r\n        cursor: 'pointer',\r\n        display: 'inline-block',\r\n        fontSize: '12px',\r\n        fontWeight: 'bold',\r\n        lineHeight: '18px',\r\n        border: '1px solid #ccd0d5',\r\n        padding: '4px 8px',\r\n        marginTop:'2px',\r\n        textAlign: 'center',\r\n        textDecoration: 'none',\r\n        textShadow: 'none',\r\n        verticalAlign: 'top',\r\n        whiteSpace: 'nowrap',\r\n        \"& input\": {\r\n            background: 'none',\r\n            border: 0,\r\n            cursor: 'pointer',\r\n            color: '#fff',\r\n            display: 'inline-block',\r\n            fontWeight: 'bold',\r\n            lineHeight: '18px',\r\n            marginTop: 0,\r\n            padding: 0,\r\n            whiteSpace: 'nowrap'\r\n        },\r\n        \"&:hover\":{\r\n            backgroundColor: '#365899',\r\n            borderColor: '#29487d',\r\n            textDecoration:'none'\r\n        }\r\n    },\r\n    cssOutlinedInput: {\r\n        '&$cssFocused $notchedOutline': {\r\n            borderColor: '#000 !important'\r\n        }\r\n    },\r\n    cssFocused: {\r\n        color: ''\r\n    },\r\n    textInput: {\r\n        height: 1,\r\n        background: '#fff'\r\n    }\r\n})\r\n)\r\n\r\nfunction Login(props) {\r\n\r\n    const [contactInfo, setContactInfo] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const classes = useStyles();\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const userLogin = {\r\n            contactInfo: contactInfo,\r\n            password: password\r\n        }\r\n        props.login(userLogin);\r\n    }\r\n\r\n    useEffect(() => {\r\n        const { isAuthenticated } = props.auth;\r\n        if (isAuthenticated) {\r\n            props.history.replace('/');\r\n        }\r\n        else {\r\n            props.history.replace('/auth');\r\n        }\r\n    }, [props.auth.isAuthenticated])\r\n\r\n    return (\r\n        <div className={classes.topNavBar}>\r\n            <div className={classes.menuBarContainer}>\r\n                <div className={classes.loginNav}>\r\n                    <div className={classes.floatLeft}>\r\n                        <h1>\r\n                            SocialConnect\r\n                        </h1>\r\n                    </div>\r\n                    <div className={classes.floatRight}>\r\n                        <Input\r\n                            disabled={true}\r\n                            color='#fff'\r\n                            error={props.error !== null}\r\n                            value={props.error.message || ''}\r\n                            disableUnderline={true}\r\n                            inputProps={{\r\n                                style:{color:'red'}\r\n                            }} />\r\n\r\n\r\n                        <TextField\r\n                            className={classes.inputText}\r\n                            margin=\"normal\"\r\n                            variant=\"outlined\"\r\n                            placeholder=\"Email or Phone\"\r\n                            error={props.error.contactInfo ? true : false}\r\n                            helperText={props.error.contactInfo}\r\n                            onChange={(e) => setContactInfo(e.target.value)}\r\n                            InputProps={{\r\n                                classes: {\r\n                                    root: classes.cssOutlinedInput,\r\n                                    focused: classes.cssFocused,\r\n                                    input: classes.textInput\r\n                                }\r\n                            }}\r\n                            type=\"email\" name=\"email\" />\r\n\r\n\r\n                        <TextField\r\n                            className={classes.inputText}\r\n                            margin=\"normal\"\r\n                            variant=\"outlined\"\r\n                            placeholder=\"Password\"\r\n                            error={props.error.password ? true : false}\r\n                            helperText={props.error.password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            InputProps={{\r\n                                classes: {\r\n                                    root: classes.cssOutlinedInput,\r\n                                    focused: classes.cssFocused,\r\n                                    input: classes.textInput\r\n                                }\r\n                            }}\r\n                            type=\"password\" name=\"password\" />\r\n\r\n\r\n                        <label htmlFor=\"login\" className={classes.loginButton}>\r\n                            <input type=\"submit\"\r\n                                onClick={handleSubmit}\r\n                                value=\"Log In\"\r\n                            />\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    error: state.error\r\n})\r\n\r\nexport default connect(mapStateToProps, { login })(withRouter(Login));","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    contentClearFix: {\r\n        margin: 0,\r\n        outline: 'none',\r\n        padding: 0,\r\n        width: 'auto',\r\n    },\r\n    gradient: {\r\n        backgroundImage: 'linear-gradient(white, #D3D8E8)',\r\n        minWidth: '980px'\r\n    },\r\n    signupContent: {\r\n        display: 'block',\r\n        margin: '0 auto',\r\n        width: '980px',\r\n    },\r\n    left: {\r\n        float: 'left'\r\n    },\r\n    leftContent: {\r\n        marginRight: '15px',\r\n        width: '565',\r\n        '& img': {\r\n            width: '537px',\r\n            height: '195px'\r\n        }\r\n    },\r\n    leftContentText: {\r\n        color: '#0e385f',\r\n        fontSize: '20px',\r\n        fontWeight: 'bold',\r\n        lineHeight: '29px',\r\n        marginTop: '40px',\r\n        width: '450px',\r\n        wordSpacing: '-1px',\r\n    },\r\n\r\n    right: {\r\n        float: 'right'\r\n    },\r\n    rightContent: {\r\n        maxWidth: '400px',\r\n    },\r\n    rightContentText: {\r\n        padding: '20px 0',\r\n        '& span': {\r\n            fontSize: '36px',\r\n            fontWeight: 600\r\n        }\r\n    },\r\n    fullNameContainer: {\r\n        display: 'flex'\r\n    },\r\n    cssOutlinedInput: {\r\n        '&$cssFocused $notchedOutline': {\r\n            borderColor: '#000 !important',\r\n        }\r\n    },\r\n    notchedOutline: {\r\n        borderWidth: '1px'\r\n    },\r\n    cssFocused: {\r\n        color: ''\r\n    },\r\n    dayOfDOB: {\r\n        padding: '5px',\r\n        height: '30px',\r\n        border: '1px solid #ccd0d5',\r\n        \"& option\": {\r\n            whiteSpace: 'pre',\r\n            minHeight: '1.2em',\r\n            padding: '0px 2px 1px'\r\n        }\r\n    },\r\n    birthdayText: {\r\n        color: '#90949c',\r\n        fontSize: '18px',\r\n        fontWeight: 'bold',\r\n        marginTop: '10px',\r\n        marginBottom: '5px'\r\n    },\r\n    genderText: {\r\n        color: '#90949c',\r\n        fontSize: '18px',\r\n        fontWeight: 'bold',\r\n        marginTop: '10px',\r\n        marginBottom: '5px'\r\n    },\r\n    gender: {\r\n        \"& span\": {\r\n            borderRadius: '4px',\r\n            borderWidth: '1px',\r\n            display: 'inline-block',\r\n            padding: '5px 0 5px 4px',\r\n        },\r\n        \"& input[type='radio']\": {\r\n            margin: '3px 3px 0px 5px',\r\n            boxSizing: 'border-box',\r\n            padding: 'initial',\r\n            border: 'initial'\r\n        }\r\n    },\r\n    signupButton: {\r\n        padding: '12px 48px',\r\n        width: '50%'\r\n    }\r\n})\r\n);\r\n\r\nexport default function Signup() {\r\n    const classes = useStyles();\r\n\r\n    const [firstName, setFirstName] = useState('');\r\n    const [lastName, setLastName] = useState('');\r\n    const [contactInfo, setContactInfo] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [dayOfDOB, setDayOfDOB] = useState('');\r\n    const [monthOfDOB, setMonthOfDOB] = useState('');\r\n    const [yearOfDOB, setYearOfDOB] = useState('');\r\n    const [gender, setGender] = useState('');\r\n    const [errors, setErrors] = useState({});\r\n\r\n    const days = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31];\r\n    const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n    const years = [2019, 2018, 2017, 2016, 2015, 2014, 2013, 2012, 2011, 2010, 2009, 2008, 2007, 2006, 2005, 2004, 2003, 2002, 2001, 2000, 1999, 1998, 1997, 1996, 1995, 1994, 1993, 1992, 1991, 1990, 1989, 1988, 1987, 1986, 1985, 1984, 1983, 1982, 1981, 1980, 1979, 1978, 1977, 1976, 1975, 1974, 1973, 1972, 1971, 1970, 1969, 1968, 1967, 1966, 1965, 1964, 1963, 1962, 1961, 1960, 1959, 1958, 1957, 1956, 1955, 1954, 1953, 1952, 1951, 1950, 1949, 1948, 1947, 1946, 1945, 1944, 1943, 1942, 1941, 1940, 1939, 1938, 1937, 1936, 1935, 1934, 1933, 1932, 1931, 1930, 1929, 1928, 1927, 1926, 1925, 1924, 1923, 1922, 1921, 1920, 1919, 1918, 1917, 1916, 1915, 1914, 1913, 1912, 1911, 1910, 1909, 1908, 1907, 1906, 1905];\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const newUser = {\r\n            firstName: firstName,\r\n            lastName: lastName,\r\n            contactInfo: contactInfo,\r\n            password: password,\r\n            dob: dayOfDOB + '/' + monthOfDOB + '/' + yearOfDOB,\r\n            gender: gender\r\n        };\r\n\r\n        axios.post('/signup', newUser)\r\n            .then(result => {\r\n                console.log(result)\r\n            })\r\n            .catch(err => {\r\n                let errors = {};\r\n                if (err.response.data.length > 0) {\r\n                    err.response.data.map(er => {\r\n                        if (er.nestedErrors) {\r\n                            errors[er.nestedErrors[0].param] = er.msg;\r\n                        }\r\n                        else {\r\n                            errors[er.param] = er.msg;\r\n                        }\r\n                    })\r\n                }\r\n                setErrors(errors);\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className={classes.contentClearFix}>\r\n            <div className={classes.gradient}>\r\n                <div className={classes.signupContent}>\r\n                    <div className={classes.left}>\r\n                        <div className={classes.leftContent}>\r\n                            <div className={classes.leftContentText}>\r\n                                SocialConnect helps you connect and share with the people in your life.\r\n                    </div>\r\n                            <img src=\"/images/facebook-img.png\" alt=\"\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className={classes.right}>\r\n                        <div className={classes.rightContent}>\r\n                            <div className={classes.rightContentText}>\r\n                                <span>Create an account</span>\r\n                            </div>\r\n                            <div className={classes.registrationContainer}>\r\n                                <div className={classes.fullNameContainer}>\r\n                                    <TextField\r\n                                        id=\"outlined-with-placeholder\"\r\n                                        label=\"First Name\"\r\n                                        error={errors.firstName ? true : false}\r\n                                        helperText={errors.firstName}\r\n                                        placeholder=\"Enter First Name\"\r\n                                        className={classes.textField}\r\n                                        margin=\"normal\"\r\n                                        variant=\"outlined\"\r\n                                        name=\"firstName\"\r\n                                        InputProps={{\r\n                                            classes: {\r\n                                                root: classes.cssOutlinedInput,\r\n                                                focused: classes.cssFocused,\r\n                                                notchedOutline: classes.notchedOutline\r\n                                            }\r\n                                        }}\r\n                                        onChange={(e) => setFirstName(e.target.value)}\r\n                                    />\r\n                                    <TextField\r\n                                        id=\"outlined-with-placeholder\"\r\n                                        label=\"Last Name\"\r\n                                        placeholder=\"Enter Last Name\"\r\n                                        error={errors.lastName ? true : false}\r\n                                        helperText={errors.lastName}\r\n                                        className={classes.textField}\r\n                                        margin=\"normal\"\r\n                                        variant=\"outlined\"\r\n                                        name=\"lastName\"\r\n                                        InputProps={{\r\n                                            classes: {\r\n                                                root: classes.cssOutlinedInput,\r\n                                                focused: classes.cssFocused,\r\n                                                notchedOutline: classes.notchedOutline\r\n                                            }\r\n                                        }}\r\n                                        onChange={(e) => setLastName(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                                <TextField\r\n                                    id=\"outlined-with-placeholder\"\r\n                                    label=\"Contact info\"\r\n                                    placeholder=\"Mobile number or email address\"\r\n                                    error={errors.contactInfo ? true : false}\r\n                                    helperText={errors.contactInfo}\r\n                                    className={classes.textField}\r\n                                    margin=\"normal\"\r\n                                    variant=\"outlined\"\r\n                                    fullWidth\r\n                                    name=\"contactInfo\"\r\n                                    InputProps={{\r\n                                        classes: {\r\n                                            root: classes.cssOutlinedInput,\r\n                                            focused: classes.cssFocused,\r\n                                            notchedOutline: classes.notchedOutline\r\n                                        }\r\n                                    }}\r\n                                    onChange={(e) => setContactInfo(e.target.value)}\r\n                                />\r\n                                <TextField\r\n                                    id=\"outlined-with-placeholder\"\r\n                                    type=\"password\"\r\n                                    label=\"Password\"\r\n                                    placeholder=\"Enter password\"\r\n                                    error={errors.password ? true : false}\r\n                                    helperText={errors.password}\r\n                                    className={classes.textField}\r\n                                    margin=\"normal\"\r\n                                    variant=\"outlined\"\r\n                                    fullWidth\r\n                                    name=\"password\"\r\n                                    InputProps={{\r\n                                        classes: {\r\n                                            root: classes.cssOutlinedInput,\r\n                                            focused: classes.cssFocused,\r\n                                            notchedOutline: classes.notchedOutline\r\n                                        }\r\n                                    }}\r\n                                    onChange={(e) => setPassword(e.target.value)}\r\n                                />\r\n\r\n                                <div className={classes.birthday}>\r\n                                    <div className={classes.birthdayText}>Birthday</div>\r\n                                    <select className={classes.dayOfDOB} name=\"dayOfDOB\" id=\"\" onChange={(e) => setDayOfDOB(e.target.value)}>\r\n                                        <option value=\"0\">Day</option>\r\n                                        {days.map((day, index) => (\r\n                                            <option key={index} value={day}>{day}</option>\r\n                                        ))}\r\n                                    </select>\r\n                                    <select className={classes.dayOfDOB} name=\"monthOfDOB\" id=\"\" onChange={(e) => setMonthOfDOB(e.target.value)}>\r\n                                        <option value=\"0\">Month</option>\r\n                                        {months.map((month, index) => (\r\n                                            <option key={index} value={index + 1}>{month}</option>\r\n                                        ))}\r\n                                    </select>\r\n                                    <select className={classes.dayOfDOB} name=\"yearofDOB\" id=\"\" onChange={(e) => setYearOfDOB(e.target.value)}>\r\n                                        <option value=\"0\">Year</option>\r\n                                        {years.map((year, index) => (\r\n                                            <option key={index} value={year}>{year}</option>\r\n                                        ))}\r\n                                    </select>\r\n                                </div>\r\n                                <div className={classes.gender}>\r\n                                    <div className={classes.genderText}>Gender</div>\r\n                                    <span>\r\n                                        <input type=\"radio\" name=\"gender\" value=\"F\" id=\"femaleradio\" onChange={(e) => setGender(e.target.value)} />\r\n                                        <label htmlFor=\"femaleradio\">Female</label>\r\n                                    </span>\r\n\r\n                                    <span>\r\n                                        <input type=\"radio\" name=\"gender\" value=\"M\" id=\"maleradio\" onChange={(e) => setGender(e.target.value)} />\r\n                                        <label htmlFor=\"maleradio\">Male</label>\r\n                                    </span>\r\n\r\n                                    <span>\r\n                                        <input type=\"radio\" name=\"gender\" value=\"Ot\" id=\"otherRadio\" onChange={(e) => setGender(e.target.value)} />\r\n                                        <label htmlFor=\"femaleradio\">Others</label>\r\n                                    </span>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <Button onClick={handleSubmit} variant=\"contained\" className={classes.signupButton}>Sign Up</Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport Login from './Login';\r\nimport SignUp from './Signup';\r\n\r\nfunction Auth() {\r\n    return (\r\n        <div>\r\n            <Login/>\r\n            <SignUp/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Auth);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst PrivateRoute = (props)=> (\r\n        <Route\r\n        {...props}\r\n            render={() =>\r\n                props.auth.isAuthenticated ?\r\n                    (props.component) :\r\n                    (<Redirect to=\"/auth\" />)}\r\n        />\r\n    )\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n})\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { fade, makeStyles } from '@material-ui/core/styles';\r\nimport Input from '@material-ui/core/Input';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    dropDown: {\r\n        position: 'relative',\r\n        display: 'inline-block',\r\n        width: '100%',\r\n        zIndex: 100,\r\n    },\r\n    dropDownContent: {\r\n        position: 'absolute',\r\n        background: 'rgba(255, 255, 255, 0.95)',\r\n        width: '100%',\r\n        \"& a\": {\r\n            color: 'black',\r\n            background: 'rgba(255, 255, 255, 0.95)',\r\n            padding: '12px 16px',\r\n            textDecoration: 'none',\r\n            display: 'block',\r\n            margin: 'auto',\r\n        }\r\n    },\r\n    inputRoot: {\r\n        color: fade(theme.palette.common.black, 1),\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 6),\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n        [theme.breakpoints.up('md')]: {\r\n            width: 500,\r\n        },\r\n    },\r\n})\r\n);\r\n\r\n\r\nfunction SearchBox(props) {\r\n    const classes = useStyles();\r\n    const [searchOn, setSearchOn] = useState(false);\r\n    const [friends, setFriends] = useState([]);\r\n\r\n    const searchFriends = (e) => {\r\n        const postData = { searchText: e.target.value };\r\n        axios.post('/getallusers', postData)\r\n            .then(result => {\r\n                setFriends(result.data);\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n    let searchedFriends = (friends) ? friends.map((search, index) => (\r\n        <Link onClick={() => setSearchOn(false)} to={{\r\n            pathname: '/' + search.userName\r\n        }} key={index}>\r\n            {search.name}\r\n        </Link>\r\n    )) : null\r\n\r\n\r\n\r\n    return (\r\n        <div className={classes.dropDown}>\r\n            <div>\r\n                <Input\r\n                    classes={{\r\n                        root: classes.inputRoot,\r\n                        input: classes.inputInput\r\n                    }}\r\n                    placeholder='Search...'\r\n                    disableUnderline={true}\r\n                    onChange={searchFriends}\r\n                    onFocus={() => setSearchOn(true)} />\r\n            </div>\r\n            {(searchOn) ? <div className={classes.dropDownContent}>\r\n                {searchedFriends}\r\n            </div>\r\n                : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n})\r\n\r\nexport default connect(mapStateToProps)(withRouter(SearchBox));\r\n","import React, { Component } from 'react';\r\nimport { fade, withStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../actions/authActions';\r\nimport SearchBox from './SearchBox';\r\nimport PersonIcon from '@material-ui/icons/PersonRounded';\r\nimport { Popper, Paper } from '@material-ui/core';\r\nimport axios from 'axios';\r\n\r\nconst useStyles = theme => ({\r\n    grow: {\r\n        flexGrow: 1,\r\n    },\r\n    headerBar: {\r\n        height: '55px'\r\n    },\r\n    appBar: {\r\n        height: '50px'\r\n    },\r\n    menuButton: {\r\n        marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n        display: 'none',\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'block',\r\n        },\r\n    },\r\n    search: {\r\n        position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n        backgroundColor: fade(theme.palette.common.white, 0.95),\r\n        '&:hover': {\r\n            backgroundColor: theme.palette.common.white,\r\n        },\r\n        marginRight: theme.spacing(2),\r\n        marginLeft: 0,\r\n        width: '100%',\r\n        [theme.breakpoints.up('xs')]: {\r\n            marginLeft: theme.spacing(3),\r\n            width: '40%',\r\n        },\r\n    },\r\n    searchIcon: {\r\n        width: theme.spacing(7),\r\n        color: fade(theme.palette.common.black, 0.8),\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n        color: fade(theme.palette.common.black, 1),\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 2),\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n        [theme.breakpoints.up('md')]: {\r\n            width: 500,\r\n        },\r\n    },\r\n    sectionDesktop: {\r\n        display: 'none',\r\n        [theme.breakpoints.up('md')]: {\r\n            display: 'flex',\r\n        },\r\n    },\r\n    sectionMobile: {\r\n        display: 'flex',\r\n        [theme.breakpoints.up('md')]: {\r\n            display: 'none',\r\n        },\r\n    },\r\n    arrowFriend: {\r\n        content: \" \",\r\n        position: 'absolute',\r\n        right: '5%',\r\n        bottom: '100%',\r\n        borderWidth: '10px',\r\n        borderStyle: 'solid',\r\n        borderColor: 'transparent transparent white'\r\n    },\r\n    popperElement: {\r\n        zIndex: 50,\r\n        maxWidth: '600px',\r\n        minWidth: '500px',\r\n        overflow:'auto'\r\n    },\r\n    popperContent: {\r\n        transform: 'translate3d(0, 11px, 0px)',\r\n        width: '100%',\r\n        \"& p:hover\": {\r\n            color: '#385898',\r\n            cursor: 'pointer',\r\n            textDecoration: 'underline'\r\n        }\r\n    },\r\n    friendInfo: {\r\n        display: 'flex'\r\n    },\r\n    typography: {\r\n        width:'150px',\r\n        \"& p\": {\r\n            textAlign:'left',\r\n            padding: '8px 16px 4px 22px',\r\n            fontSize: '14px',\r\n        }\r\n    },\r\n    confirmButton: {\r\n        width: theme.spacing(3),\r\n        marginTop: theme.spacing(1),\r\n        marginLeft: '15%',\r\n        fontSize: '12px',\r\n        fontWeight: 'bold',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        background: '#385898',\r\n        color: '#fff',\r\n        padding: '8px 32px 4px 16px'\r\n    },\r\n    declineButton: {\r\n        marginTop: theme.spacing(1),\r\n        marginLeft: theme.spacing(1),\r\n        fontSize: '12px',\r\n        fontWeight: 'bold',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        background: '#e9eaed',\r\n        color: '#000',\r\n        padding: '8px 16px 4px 16px'\r\n    }\r\n});\r\n\r\n\r\nclass Navigation extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            anchorEl: null,\r\n            mobileMoreAnchorEl: null,\r\n            userName: '',\r\n            anchorFriend: null,\r\n            friendRequests: []\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.props.auth.isAuthenticated != nextProps.auth.isAuthenticated) {\r\n            if (!nextProps.auth.isAuthenticated) {\r\n                this.props.history.replace('/auth');\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { isAuthenticated, user } = this.props.auth;\r\n        if (!isAuthenticated) {\r\n            this.props.history.replace('/auth');\r\n        }\r\n        else {\r\n            this.setState({ userName: user.name.split(\" \")[0] });\r\n            axios.post('/getfriendrequests', {\r\n                userId: user.id\r\n            })\r\n                .then(result => {\r\n                    this.setState({\r\n                        friendRequests: result.data\r\n                    })\r\n                })\r\n                .catch(err => {\r\n                })\r\n        }\r\n    }\r\n\r\n\r\n    handleFriendNotificationPopper = (event, userId) => {\r\n        event.preventDefault();\r\n        if (this.state.anchorFriend) {\r\n            this.setState({\r\n                anchorFriend: null\r\n            })\r\n        }\r\n        else {\r\n            this.setState({\r\n                anchorFriend: event.currentTarget,\r\n            });\r\n            axios.post('/getfriendrequests', {\r\n                userId: userId\r\n            })\r\n                .then(result => {\r\n                    this.setState({\r\n                        friendRequests: result.data\r\n                    })\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                })\r\n        }\r\n    }\r\n\r\n    confirmFriend=(event,tlUserId)=>{\r\n        event.preventDefault();\r\n        const {user} = this.props.auth;\r\n        axios.post('/acceptfriend',{\r\n            userId:user.id,\r\n            tlUserId:tlUserId\r\n        })\r\n        .then(result=>{\r\n            console.log(result)\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { user } = this.props.auth;\r\n        var openFriend = Boolean(this.state.anchorFriend);\r\n\r\n        const isMenuOpen = Boolean(this.state.anchorEl);\r\n        const isMobileMenuOpen = Boolean(this.state.mobileMoreAnchorEl);\r\n\r\n        const handleProfileMenuOpen = (event) => {\r\n            this.setState({ anchorEl: event.currentTarget });\r\n        }\r\n\r\n        const handleMobileMenuClose = () => {\r\n            this.setState({ mobileMoreAnchorEl: null })\r\n        }\r\n\r\n        const handleMenuClose = () => {\r\n            this.setState({ anchorEl: null });\r\n            handleMobileMenuClose();\r\n        }\r\n\r\n        const handleLogout = (e) => {\r\n            e.preventDefault();\r\n            this.props.logout();\r\n        }\r\n\r\n        const handleMobileMenuOpen = (event) => {\r\n            this.setState({ mobileMoreAnchorEl: event.currentTarget });\r\n        }\r\n\r\n        const { friendRequests } = this.state;\r\n\r\n\r\n        const menuId = 'primary-search-account-menu';\r\n        const renderMenu = (\r\n            <Menu\r\n                anchorEl={this.state.anchorEl}\r\n                anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                id={menuId}\r\n                keepMounted\r\n                transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                open={isMenuOpen}\r\n                onClose={handleMenuClose}\r\n            >\r\n                <MenuItem onClick={handleMenuClose}>Profile</MenuItem>\r\n                <MenuItem onClick={handleMenuClose}>My account</MenuItem>\r\n                <MenuItem onClick={handleLogout}>Logout</MenuItem>\r\n            </Menu>\r\n        );\r\n\r\n        const mobileMenuId = 'primary-search-account-menu-mobile';\r\n        const renderMobileMenu = (\r\n            <Menu\r\n                anchorEl={this.state.mobileMoreAnchorEl}\r\n                anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                id={mobileMenuId}\r\n                keepMounted\r\n                transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                open={isMobileMenuOpen}\r\n                onClose={handleMobileMenuClose}\r\n            >\r\n                <MenuItem onClick={() => this.props.history.push({\r\n                    pathname: '/' + user.userName,\r\n                    state: {\r\n                        user: user\r\n                    }\r\n                })}>\r\n                    <ListItemAvatar>\r\n                        <Avatar onError={(e) => { e.target.src = 'images/404.png' }} src={(user.profileImage)?user.profileImage:'images/blank.png'} />\r\n                    </ListItemAvatar>\r\n                    <ListItemText primary={this.state.userName} />\r\n                </MenuItem>\r\n                <MenuItem onClick={() => this.props.history.push('/')}>\r\n                    <IconButton aria-label=\"Show 4 new mails\" color=\"inherit\">\r\n                        <HomeIcon />\r\n                    </IconButton>\r\n                    <p>Home</p>\r\n                </MenuItem>\r\n                <MenuItem>\r\n                    <IconButton aria-label=\"Show friend requests\" color=\"inherit\">\r\n                        <Badge badgeContent={10} color=\"secondary\">\r\n                            <PersonIcon />\r\n                        </Badge>\r\n                    </IconButton>\r\n                    <p>Friend Requests</p>\r\n                </MenuItem>\r\n                <MenuItem>\r\n                    <IconButton aria-label=\"Show new mails\" color=\"inherit\">\r\n                        <Badge badgeContent={4} color=\"secondary\">\r\n                            <MailIcon />\r\n                        </Badge>\r\n                    </IconButton>\r\n                    <p>Messages</p>\r\n                </MenuItem>\r\n                <MenuItem>\r\n                    <IconButton aria-label=\"Show new notifications\" color=\"inherit\">\r\n                        <Badge badgeContent={11} color=\"secondary\">\r\n                            <NotificationsIcon />\r\n                        </Badge>\r\n                    </IconButton>\r\n                    <p>Notifications</p>\r\n                </MenuItem>\r\n                <MenuItem onClick={handleProfileMenuOpen}>\r\n                    <IconButton\r\n                        aria-label=\"Account of current user\"\r\n                        aria-controls=\"primary-search-account-menu\"\r\n                        aria-haspopup=\"true\"\r\n                        color=\"inherit\"\r\n                    >\r\n                        <AccountCircle />\r\n                    </IconButton>\r\n                    <p>Profile</p>\r\n                </MenuItem>\r\n            </Menu>\r\n        );\r\n\r\n        return (\r\n            <div className={classes.grow}>\r\n                <AppBar className={classes.headerBar} position=\"fixed\">\r\n                    <Toolbar className={classes.appBar} style={{minHeight:'50px'}}>\r\n                        <Typography className={classes.title} variant=\"h6\" noWrap>\r\n                            SocialConnect\r\n                            </Typography>\r\n                        <div className={classes.search}>\r\n                            <div className={classes.searchIcon}>\r\n                                <SearchIcon />\r\n                            </div>\r\n                            <SearchBox />\r\n                        </div>\r\n                        <div className={classes.sectionDesktop}>\r\n                            <MenuItem onClick={() => this.props.history.push({\r\n                                pathname: '/' + user.userName,\r\n                                state: {\r\n                                    user: user\r\n                                }\r\n                            })}>\r\n                                <ListItemAvatar>\r\n                                    <Avatar onError={(e) => { e.target.src='images/404.png' }} src={(user.profileImage)? user.profileImage:'images/blank.png'} />\r\n                                </ListItemAvatar>\r\n                                <ListItemText primary={this.state.userName} />\r\n                            </MenuItem>\r\n                            <MenuItem onClick={() => this.props.history.push('/')}>\r\n                                <IconButton aria-label=\"Show 4 new mails\" color=\"inherit\">\r\n                                    <HomeIcon />\r\n                                </IconButton>\r\n                                <p>Home</p>\r\n                            </MenuItem>\r\n\r\n                            <IconButton onClick={(e) => this.handleFriendNotificationPopper(e, user.id)} aria-label=\"Show friend requests\" color=\"inherit\">\r\n                                <Badge badgeContent={friendRequests.length} color=\"secondary\">\r\n                                    <PersonIcon />\r\n                                </Badge>\r\n\r\n\r\n                                {(friendRequests) ?\r\n                                    <Popper className={classes.popperElement}\r\n                                        anchorEl={this.state.anchorFriend}\r\n                                        open={openFriend}\r\n                                        placement='bottom-end'\r\n                                        disablePortal={true}\r\n                                        modifiers={\r\n                                            {\r\n                                                flip: {\r\n                                                    enabled: false,\r\n                                                },\r\n                                                // preventOverflow: {\r\n                                                //     enabled: false,\r\n                                                //     boundariesElement: 'scrollParent',\r\n                                                // },\r\n                                            }\r\n                                        } >\r\n                                        <Paper className={classes.popperContent} >\r\n                                            <div className={classes.arrowFriend} > </div>\r\n                                            {friendRequests.map(friend => (\r\n                                                <React.Fragment key={friend.user._id}>\r\n                                                    <div className={classes.friendInfo} >\r\n                                                        <ListItemAvatar>\r\n                                                            <Avatar onError={(e) => { e.target.src='images/404.png' }} alt=\"Remy Sharp\" src={(friend.user.profileImage) ? friend.user.profileImage : 'images/blank.png'} />\r\n                                                        </ListItemAvatar>\r\n                                                        <div className={classes.typography}>\r\n                                                            <Typography > {friend.user.name} </Typography>\r\n                                                        </div>\r\n                                                        <a onClick={(e)=>this.confirmFriend(e,friend.user._id)} className={classes.confirmButton}>\r\n                                                            Confirm\r\n                                                        </a>\r\n                                                        <a onClick={this.declineFriend} className={classes.declineButton}>\r\n                                                            Decline\r\n                                                        </a>\r\n                                                    </div>\r\n                                                    <hr className={classes.divider} />\r\n                                                </React.Fragment>\r\n                                            ))}\r\n                                        </Paper>\r\n                                    </Popper>\r\n                                    : null}\r\n                            </IconButton>\r\n                            <IconButton aria-label=\"Show new mails\" color=\"inherit\">\r\n                                <Badge badgeContent={4} color=\"secondary\">\r\n                                    <MailIcon />\r\n                                </Badge>\r\n                            </IconButton>\r\n                            <IconButton aria-label=\"Show new notifications\" color=\"inherit\">\r\n                                <Badge badgeContent={17} color=\"secondary\">\r\n                                    <NotificationsIcon />\r\n                                </Badge>\r\n                            </IconButton>\r\n                            <IconButton\r\n                                edge=\"end\"\r\n                                aria-label=\"Account of current user\"\r\n                                aria-controls={menuId}\r\n                                aria-haspopup=\"true\"\r\n                                onClick={handleProfileMenuOpen}\r\n                                color=\"inherit\"\r\n                            >\r\n                                <AccountCircle />\r\n                            </IconButton>\r\n\r\n                        </div>\r\n                        <div className={classes.sectionMobile}>\r\n                            <IconButton\r\n                                aria-label=\"Show more\"\r\n                                aria-controls={mobileMenuId}\r\n                                aria-haspopup=\"true\"\r\n                                onClick={handleMobileMenuOpen}\r\n                                color=\"inherit\"\r\n                            >\r\n                                <MoreIcon />\r\n                            </IconButton>\r\n                        </div>\r\n                    </Toolbar>\r\n                </AppBar>\r\n\r\n                {renderMobileMenu}\r\n                {renderMenu}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n})\r\n\r\nexport default connect(mapStateToProps, { logout })(withStyles(useStyles)(withRouter(Navigation)));\r\n","import { SET_PROFILE_IMAGE, SET_TIMELINE_USER, GET_FEED, GET_FRIENDS, GET_TIMELINE_FEED } from './Types';\r\nimport axios from 'axios';\r\n\r\nexport const uploadPhoto = (formData, userName) => dispatch => {\r\n    axios.post('/uploadphoto', formData)\r\n        .then(result => {\r\n            const timeLineUser = {\r\n                _id: result.data._id,\r\n                name: result.data.name,\r\n                userName: result.data.userName,\r\n                profileImage: result.data.profileImage,\r\n                authUser: (result.data.userName === userName) ? true : false\r\n            }\r\n            dispatch({\r\n                type: SET_PROFILE_IMAGE,\r\n                payload: result.data\r\n            })\r\n            dispatch({\r\n                type: SET_TIMELINE_USER,\r\n                payload: timeLineUser\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n}\r\n\r\nexport const setTimeLineUser = (userName, authUserName) => dispatch => {\r\n    axios.get('/getuser/' + userName)\r\n        .then(result => {\r\n            const resultData = result.data[0];\r\n            const timeLineUser = {\r\n                _id: resultData._id,\r\n                name: resultData.name,\r\n                userName: resultData.userName,\r\n                profileImage: resultData.profileImage,\r\n                authUser: (userName === authUserName) ? true : false\r\n            }\r\n            dispatch({\r\n                type: SET_TIMELINE_USER,\r\n                payload: timeLineUser\r\n            });\r\n            const posts = [...resultData.posts];\r\n            const userPosts = posts.map(userPost => {\r\n                userPost.createdBy = {\r\n                    _id: resultData._id,\r\n                    name: resultData.name,\r\n                    profileImage: resultData.profileImage,\r\n                    userName: resultData.userName\r\n                };\r\n                return userPost;\r\n            })\r\n            const friendsWithPosts = resultData.friends.filter(friend => friend.posts.length > 0);\r\n            const friendsPosts = friendsWithPosts.map(friendPost => {\r\n                return friendPost.posts.map(post => {\r\n                    post.createdBy = {\r\n                        _id: friendPost.user._id,\r\n                        name: friendPost.user.name,\r\n                        profileImage: friendPost.user.profileImage,\r\n                        userName: friendPost.user.userName\r\n                    };\r\n                    return post;\r\n                })\r\n            }).flat(1);\r\n            const allPosts = [...userPosts, ...friendsPosts];\r\n            dispatch({\r\n                type: GET_FEED,\r\n                payload: {\r\n                    data: allPosts,\r\n                    hasMorePosts: (result.data.length) ? true : false\r\n                }\r\n            });\r\n\r\n            var friends = resultData.friends.map(friend => {\r\n                if (friend.user)\r\n                    return {\r\n                        _id: friend.user._id,\r\n                        name: friend.user.name,\r\n                        userName: friend.user.userName,\r\n                        profileImage: friend.user.profileImage,\r\n                        status: friend.status\r\n                    }\r\n            });\r\n            friends = (friends[0]) ? friends : [];\r\n\r\n            dispatch({\r\n                type: GET_FRIENDS,\r\n                payload: friends\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}","import { GET_FEED, SUBMIT_POST, CLEAR_POSTS, CREATE_COMMENT, LIKE_COMMENT } from './Types';\r\nimport axios from 'axios';\r\n\r\n\r\nexport const getFeed = (id, start, count) => dispatch => {\r\n    axios.post('/getfeed', { userId: id, start, count })\r\n        .then(result => {\r\n            dispatch({\r\n                type: GET_FEED,\r\n                payload: {\r\n                    data: result.data,\r\n                    hasMorePosts: (result.data.length) ? true : false\r\n                }\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nexport const submitPost = (newPost) => dispatch => {\r\n    axios.post('/submitpost', newPost)\r\n        .then(result => {\r\n            dispatch({\r\n                type: SUBMIT_POST,\r\n                payload: result.data\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nexport const likePost = (postId, id) => dispatch => {\r\n    axios.post('/likepost', {\r\n        postId: postId,\r\n        userId: id\r\n    })\r\n        .then(result => {\r\n            dispatch({\r\n                type: LIKE_COMMENT,\r\n                payload: result.data\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n}\r\n\r\nexport const createComment = (userId, postId, text) => {\r\n    return dispatch => {\r\n        axios.post('/createcomment', {\r\n            userId: userId,\r\n            postId: postId,\r\n            text: text\r\n        })\r\n            .then(result => {\r\n                dispatch({\r\n                    type: CREATE_COMMENT,\r\n                    payload: result.data[0]\r\n                })\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n}\r\n\r\nexport const clearAllPosts = () => dispatch => {\r\n    dispatch({\r\n        type: CLEAR_POSTS,\r\n        payload: []\r\n    })\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Input from '@material-ui/core/Input';\r\nimport Button from '@material-ui/core/Button';\r\nimport SchoolIcon from '@material-ui/icons/School';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    userInfo: {\r\n        padding: theme.spacing(3, 2),\r\n    },\r\n    header: {\r\n        textAlign: 'left'\r\n    },\r\n    addBio: {\r\n        marginTop: theme.spacing(1),\r\n        \"& p\": {\r\n            fontSize: '14px',\r\n            opacity: 0.7,\r\n        },\r\n        \"& a\": {\r\n            textDecoration: 'none',\r\n            color: '#385898',\r\n            \"&:hover\": {\r\n                textDecoration: 'underline',\r\n                cursor: 'pointer'\r\n            }\r\n        }\r\n    },\r\n    infoDetails: {\r\n        marginTop: theme.spacing(1),\r\n        \"& ul\": {\r\n            alignItems:'left',\r\n            textAlign:'left',\r\n            listStyleType: 'none',\r\n            transform:'translateX(-10%)',\r\n        },\r\n        \"& ul li a\": {\r\n            color: '#385898',\r\n            \"&:hover\": {\r\n                cursor: 'pointer',\r\n                textDecoration: 'underline'\r\n            }\r\n        }\r\n    },\r\n    createBio: {\r\n        height: theme.spacing(20),\r\n    },\r\n    bioInput: {\r\n        height: theme.spacing(15),\r\n        overflow: 'auto',\r\n        \"&  textarea\": {\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            textAlign: 'center',\r\n        },\r\n    },\r\n    bioButtons: {\r\n        background: '#e9eaed'\r\n    },\r\n    button: {\r\n        margin: theme.spacing(0.5),\r\n        width: theme.spacing(3),\r\n        fontSize: '11px',\r\n        fontWeight: 'bold',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center'\r\n    },\r\n    titleBar: {\r\n        \"& ul,& ul li\": {\r\n            margin: 0,\r\n            padding: 0\r\n        },\r\n        \"& ul li span\": {\r\n            fontSize: '20px'\r\n        }\r\n    },\r\n    aboutAvatar: {\r\n        margin: 10,\r\n        color: '#fff',\r\n        background: '#385898'\r\n    },\r\n    inline: {\r\n        display: 'inline',\r\n    },\r\n}));\r\n\r\nexport default function UserAbout() {\r\n    const [bioClicked, setBioClicked] = React.useState(false);\r\n    const classes = useStyles();\r\n    return (\r\n        <div>\r\n            <Paper className={classes.userInfo}>\r\n                <div className={classes.titleBar}>\r\n                    <List>\r\n                        <ListItem>\r\n                            <Avatar className={classes.aboutAvatar}>\r\n                                <InfoIcon />\r\n                            </Avatar>\r\n                            <ListItemText primary=\"About\" />\r\n                        </ListItem>\r\n                    </List>\r\n                </div>\r\n                <div className={classes.addBio}>\r\n\r\n                    {(!bioClicked) ? <div>\r\n                        <Typography component=\"p\">\r\n                            Add a short bio.\r\n                        </Typography>\r\n                        <a onClick={() => setBioClicked(true)}>Add Bio</a>\r\n                    </div> :\r\n                        <div>\r\n                            <Paper className={classes.createBio}>\r\n                                <div>\r\n                                    <div className={classes.bioInput}>\r\n                                        <Input\r\n                                            placeholder=\"Write something about yourself\"\r\n                                            multiline={true}\r\n                                            fullWidth\r\n                                            disableUnderline={true}\r\n                                        />\r\n                                    </div>\r\n                                    <div className={classes.bioButtons}>\r\n                                        <Button variant=\"contained\" className={classes.button} onClick={() => setBioClicked(false)}>Cancel</Button>\r\n                                        <Button variant=\"contained\" className={classes.button} color=\"primary\">Save</Button>\r\n                                    </div>\r\n                                </div>\r\n                            </Paper>\r\n                        </div>\r\n                    }\r\n\r\n                    <Divider />\r\n\r\n                </div>\r\n                <div className={classes.infoDetails}>\r\n                    {/* <List>\r\n                        <ListItem>\r\n                            <SchoolIcon className={classes.schoolIcon} />\r\n                            <ListItemText primary=\"Went to\"> <a>St. Lawrence School</a> </ListItemText>\r\n                        </ListItem>\r\n                    </List> */}\r\n                    <ul>\r\n                        <li><div><SchoolIcon /> Working in <a>Tata Consultancy Services</a></div></li>\r\n                        <li><div><SchoolIcon /> Studied at <a>Shri Ram Murti Smarak College of Enginnering and Technology</a></div></li>\r\n                        <li><div><SchoolIcon /> Went to <a>St. Lawrence School</a></div></li>\r\n                    </ul>\r\n                </div>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Downshift from 'downshift';\r\nimport {connect} from 'react-redux';\r\nimport axios from 'axios';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    tag: {\r\n        display: 'flex',\r\n    },\r\n    with: {\r\n        background: '#e9eaed',\r\n        textAlign:'center',\r\n        padding:'8px 6px 6px 8px'\r\n    },\r\n    container: {\r\n        flexGrow: 1,\r\n        position: 'relative',\r\n    },\r\n    paper: {\r\n        position: 'absolute',\r\n        zIndex: 1,\r\n        marginTop: theme.spacing(1),\r\n        left: 0,\r\n        right: 0,\r\n    },\r\n    chip: {\r\n        margin: theme.spacing(0.5, 0.25),\r\n    },\r\n    inputRoot: {\r\n        flexWrap: 'wrap',\r\n    },\r\n    inputInput: {\r\n        width: 'auto',\r\n        flexGrow: 1,\r\n    },\r\n})\r\n)\r\n\r\nfunction renderInput(inputProps) {\r\n    const { InputProps, classes, ref, ...other } = inputProps;\r\n  \r\n    return (\r\n      <TextField\r\n        InputProps={{\r\n          inputRef: ref,\r\n          classes: {\r\n            root: classes.inputRoot,\r\n            input: classes.inputInput,\r\n          },\r\n          ...InputProps,\r\n        }}\r\n        {...other}\r\n      />\r\n    );\r\n  }\r\n\r\n  function renderSuggestion(suggestionProps) {\r\n    const { suggestion, index, itemProps, highlightedIndex, selectedItem } = suggestionProps;\r\n    const isHighlighted = highlightedIndex === index;\r\n    const isSelected = (selectedItem || '').indexOf(suggestion.user._id) > -1;\r\n  \r\n    return (\r\n      <MenuItem\r\n        {...itemProps}\r\n        key={suggestion.user._id}\r\n        selected={isHighlighted}\r\n        component=\"div\"\r\n        style={{\r\n          fontWeight: isSelected ? 500 : 400,\r\n        }}\r\n        value={suggestion.user._id}\r\n      >\r\n        {suggestion.user.name}\r\n      </MenuItem>\r\n    );\r\n  }\r\n  \r\n  function getSuggestions(value,friendSuggestions, { showEmpty = false } = {}) {\r\n    const inputValue = value.trim().toLowerCase();\r\n    const inputLength = inputValue.length;\r\n    let count = 0;\r\n\r\n  \r\n    return inputLength === 0 && !showEmpty\r\n      ? []\r\n      : friendSuggestions.filter(suggestion => {\r\n          const keep =\r\n            count < 5 && suggestion.user.name.slice(0, inputLength).toLowerCase() === inputValue;\r\n  \r\n          if (keep) {\r\n            count += 1;\r\n          }\r\n  \r\n          return keep;\r\n        });\r\n  }\r\n\r\n  function DownshiftMultiple(props) {\r\n    const { classes } = props;\r\n    const [inputValue, setInputValue] = React.useState('');\r\n    const [selectedItem, setSelectedItem] = React.useState([]);\r\n    const [friendSuggestions,setFriendSuggestions]=React.useState([]);\r\n  \r\n    function handleKeyDown(event) {\r\n      if (selectedItem.length && !inputValue.length && event.key === 'Backspace') {\r\n        setSelectedItem(selectedItem.slice(0, selectedItem.length - 1));\r\n      }\r\n    }\r\n  \r\n    function handleInputChange(event) {\r\n      const {user} = props.auth;\r\n      setInputValue(event.target.value);\r\n      const searchFriends={\r\n        userId:user.id,\r\n        searchText:event.target.value\r\n      };\r\n      axios.post('/getfriends',searchFriends)\r\n      .then(result=>{\r\n        setFriendSuggestions(result.data);\r\n      })\r\n      .catch(err=>{\r\n        console.log(err)\r\n      })\r\n\r\n    }\r\n  \r\n    function handleChange(item) {\r\n      let newSelectedItem = [...selectedItem];\r\n      if (newSelectedItem.indexOf(item.id) === -1) {\r\n        newSelectedItem = [...newSelectedItem, item];\r\n      }\r\n      setInputValue('');\r\n      setSelectedItem(newSelectedItem);\r\n    }\r\n\r\n  \r\n    const handleDelete = item => () => {\r\n      const newSelectedItem = [...selectedItem];\r\n      newSelectedItem.splice(newSelectedItem.indexOf(item.id), 1);\r\n      setSelectedItem(newSelectedItem);\r\n    };\r\n\r\n    props.selected(selectedItem);\r\n  \r\n    return (\r\n      <Downshift\r\n        id=\"downshift-multiple\"\r\n        inputValue={inputValue}\r\n        onChange={handleChange}\r\n        selectedItem={selectedItem}\r\n      >\r\n        {({\r\n          getInputProps,\r\n          getItemProps,\r\n          getLabelProps,\r\n          isOpen,\r\n          inputValue: inputValue2,\r\n          selectedItem: selectedItem2,\r\n          highlightedIndex,\r\n        }) => {\r\n          const { onBlur, onChange, onFocus, ...inputProps } = getInputProps({\r\n            onKeyDown: handleKeyDown,\r\n            placeholder: 'Who are you with?',\r\n          });\r\n  \r\n          return (\r\n            <div className={classes.container}>\r\n              {renderInput({\r\n                fullWidth: true,\r\n                classes,\r\n                InputLabelProps: getLabelProps(),\r\n                InputProps: {\r\n                  startAdornment: selectedItem.map(item => (\r\n                    <Chip\r\n                      key={item.id}\r\n                      tabIndex={-1}\r\n                      label={item.name}\r\n                      className={classes.chip}\r\n                      onDelete={handleDelete(item)}\r\n                    />\r\n                  )),\r\n                  onBlur,\r\n                  onChange: event => {\r\n                    handleInputChange(event);\r\n                    onChange(event);\r\n                  },\r\n                  onFocus,\r\n                },\r\n                inputProps,\r\n              })}\r\n  \r\n              {isOpen ? (\r\n                <Paper className={classes.paper} square>\r\n                  {getSuggestions(inputValue2,friendSuggestions).map((suggestion, index) =>\r\n                    renderSuggestion({\r\n                      suggestion,\r\n                      index,\r\n                      itemProps: getItemProps({ item: {name:suggestion.user.name,id:suggestion.user._id} }),\r\n                      highlightedIndex,\r\n                      selectedItem: selectedItem2,\r\n                    }),\r\n                  )}\r\n                </Paper>\r\n              ) : null}\r\n            </div>\r\n          );\r\n        }}\r\n      </Downshift>\r\n    );\r\n  }\r\n\r\n\r\n\r\n\r\nfunction TagFriends(props) {\r\n    const classes = useStyles();\r\n    return (\r\n        <div className={classes.tag}>\r\n            <div className={classes.with}>\r\n                With\r\n            </div>\r\n            <div>\r\n                <DownshiftMultiple selected={props.taggedFriends} auth={props.auth} classes={classes} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps=state=>({\r\n  auth:state.auth\r\n})\r\n\r\nexport default connect(mapStateToProps)(TagFriends);","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Input from '@material-ui/core/Input';\r\nimport PostIcon from '@material-ui/icons/LocalPostOffice';\r\nimport Button from '@material-ui/core/Button';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport PhotoCamera from '@material-ui/icons/CloudUpload';\r\nimport PeopleIcon from '@material-ui/icons/PeopleTwoTone';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport PlusIcon from '@material-ui/icons/Add';\r\nimport { Icon } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\nimport TagFriends from './TagFriends';\r\nimport { submitPost } from '../../actions/postActions';\r\nimport 'emoji-mart/css/emoji-mart.css';\r\nimport { Picker } from 'emoji-mart';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: 'block',\r\n        width: '80%',\r\n    },\r\n    postHeader: {\r\n        padding: theme.spacing(0, 2),\r\n        height: theme.spacing(4),\r\n        textAlign: 'left',\r\n        background: '#f5f6f7',\r\n        borderRadius: '4px',\r\n        lineHeight: '2rem'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(3, 2),\r\n        position: 'relative'\r\n    },\r\n    footer: {\r\n        display: 'flex',\r\n        justifyContent: 'space-around'\r\n    },\r\n    chip: {\r\n        marginTop: theme.spacing(2),\r\n        background: '#e9eaed',\r\n        fontWeight: 'bold',\r\n        color: '#385898',\r\n        height: theme.spacing(5),\r\n        transition: '0.5s all',\r\n        \"&:hover\": {\r\n            cursor: 'pointer',\r\n            background: '#c4c5c7',\r\n        }\r\n    },\r\n    postButton: {\r\n        width: '50%',\r\n        marginTop: theme.spacing(2)\r\n    },\r\n    postIcon: {\r\n        marginLeft: theme.spacing(2),\r\n        transition: '0.5s all'\r\n    },\r\n    input: {\r\n        display: 'none',\r\n    },\r\n    card: {\r\n        width: '100%',\r\n    },\r\n    media_image: {\r\n        paddingTop: '56.25%', // 16:9\r\n        backgroundPosition: 'initial'\r\n    },\r\n    media_video: {\r\n        width: 'inherit',\r\n        \"& video\": {\r\n            width: 'inherit'\r\n        }\r\n    },\r\n    imagePreviewBox: {\r\n        display: 'flex',\r\n        width: '100%',\r\n        padding: '8px 8px',\r\n        overflowX: 'auto'\r\n    },\r\n    imageBox: {\r\n        minWidth: '100px',\r\n        minHeight: '100px',\r\n        marginLeft: '10px',\r\n        maxWidth: '100px',\r\n        maxHeight: '100px',\r\n        \"& img\": {\r\n            width: '100%',\r\n            height: '100%'\r\n        },\r\n        \"& video\": {\r\n            width: '100%',\r\n            height: '100%'\r\n        }\r\n    },\r\n    uploadImageBox: {\r\n        minWidth: '100px',\r\n        minHeight: '100px',\r\n        background: '#fff',\r\n        border: '2px dashed #e9eaed',\r\n        marginLeft: '10px',\r\n        maxWidth: '100px',\r\n        maxHeight: '100px',\r\n        \"&:hover\": {\r\n            cursor: 'pointer',\r\n            background: '#e9eaed'\r\n        },\r\n        \"& span svg\": {\r\n            marginTop: '50%',\r\n            marginLeft: '50%',\r\n            transform: 'translate(-50%,-50%)'\r\n        }\r\n    },\r\n    firstDivider: {\r\n        marginTop: '24px',\r\n        lineHeight: '1px'\r\n    },\r\n    secondDivider: {\r\n        marginTop: '8px',\r\n        lineHeight: '1px'\r\n    },\r\n    emojiPicker: {\r\n        position: 'absolute',\r\n        zIndex: 1000,\r\n        marginTop: '10px'\r\n    }\r\n}));\r\n\r\nfunction CreatePost(props) {\r\n    const classes = useStyles();\r\n    const [postText, setPostText] = useState('');\r\n    const [postFiles, setPostFiles] = useState([]);\r\n    const [imagePreview, setImagePreview] = useState(null);\r\n    const [videoPreview, setVideoPreview] = useState(null);\r\n    const [imageName, setImageName] = useState('');\r\n    const [uploadedImages, setUploadedImages] = useState([]);\r\n    const [uploadedVideos, setUploadedVideos] = useState([]);\r\n    const [tagFriends, setTagFriends] = useState(false);\r\n    const [taggedFriends, setTaggedFriends] = useState([]);\r\n    const [chosenEmoji, setChosenEmoji] = useState('');\r\n    const [showEmoji, setShowEmoji] = useState(false);\r\n\r\n    const onImageChange = (event) => {\r\n        var file = event.target.files[0];\r\n        if (file) {\r\n            const fileType = file.type;\r\n            const fileArr = [...postFiles];\r\n            fileArr.push(file);\r\n            setPostFiles(fileArr);\r\n            if (fileType.includes('image')) {\r\n                var reader = new FileReader();\r\n                reader.readAsDataURL(file);\r\n                reader.onloadend = (event) => {\r\n                    setVideoPreview(null)\r\n                    setImagePreview(reader.result);\r\n                    setImageName(file.name);\r\n                    const imageDetails = {\r\n                        imageSrc: reader.result,\r\n                        name: file.name\r\n                    }\r\n                    const updatedImages = [...uploadedImages];\r\n                    updatedImages.unshift(imageDetails);\r\n                    setUploadedImages(updatedImages);\r\n                }\r\n            }\r\n            if (fileType.includes('video')) {\r\n                var reader = new FileReader();\r\n                reader.readAsDataURL(file);\r\n                reader.onloadend = (event) => {\r\n                    setImagePreview(null)\r\n                    setVideoPreview(reader.result);\r\n                    const videoDetails = {\r\n                        videoSrc: reader.result,\r\n                        name: file.name\r\n                    }\r\n                    const updatedVideos = [...uploadedVideos];\r\n                    updatedVideos.unshift(videoDetails);\r\n                    setUploadedVideos(updatedVideos);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    const submitPost = (e) => {\r\n        e.preventDefault();\r\n        const { user } = props.auth;\r\n        const taggedFIds = (taggedFriends) ? taggedFriends.map(tFriend => tFriend.id) : null;\r\n        let formData = new FormData();\r\n        formData.append('postText', postText);\r\n        postFiles.map(postFile => {\r\n            formData.append('images', postFile);\r\n        })\r\n        formData.append('userId', user.id);\r\n        formData.append('taggedFriends', JSON.stringify(taggedFIds));\r\n        props.submitPost(formData);\r\n        setImagePreview(null);\r\n        setVideoPreview(null);\r\n        setPostFiles([]);\r\n        setPostText('');\r\n        setTagFriends(false);\r\n        setTaggedFriends([]);\r\n        setImageName('');\r\n        setUploadedImages([]);\r\n        setUploadedVideos([]);\r\n    }\r\n\r\n    const handleTagging = (selectedFriends) => {\r\n        setTaggedFriends(selectedFriends);\r\n    }\r\n\r\n    const onEmojiClick = (event) => {\r\n        const emoji = event.native;\r\n        const text = (postText) ? `${postText}${emoji}` : emoji;\r\n        setPostText(text);\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <div className={classes.postHeader}>\r\n                Create Post\r\n            </div>\r\n            <Paper className={classes.paper}>\r\n                <Input\r\n                    placeholder=\"Write something here...\"\r\n                    multiline={true}\r\n                    fullWidth\r\n                    disableUnderline={true}\r\n                    onChange={(e) => setPostText(e.target.value)}\r\n                    value={postText}\r\n                />\r\n                {\r\n                    (imagePreview != null) ?\r\n                        <Card className={classes.card}>\r\n                            <CardMedia\r\n                                className={classes.media_image}\r\n                                image={imagePreview}\r\n                                title={imageName}\r\n                            />\r\n                        </Card> :\r\n                        null\r\n                }\r\n\r\n                {\r\n                    (videoPreview != null) ?\r\n                        <Card className={classes.card}>\r\n                            <CardMedia className={classes.media_video}>\r\n                                <video src={videoPreview} controls></video>\r\n                            </CardMedia>\r\n                        </Card> :\r\n                        null\r\n                }\r\n\r\n                {(tagFriends) ? <Divider className={classes.firstDivider} /> : null}\r\n\r\n                {(tagFriends) ? <TagFriends taggedFriends={handleTagging} /> : null}\r\n\r\n                <Divider className={classes.secondDivider} />\r\n                {(uploadedImages.length > 0) ?\r\n                    <div className={classes.imagePreviewBox}>\r\n                        {uploadedImages.map((image, index) => (\r\n                            <div key={index} className={classes.imageBox}>\r\n                                <img src={image.imageSrc} alt={image.name} />\r\n                            </div>\r\n                        ))}\r\n                        {uploadedVideos.map((video, index) => (\r\n                            <div key={index} className={classes.imageBox}>\r\n                                <video src={video.videoSrc} />\r\n                            </div>\r\n                        ))}\r\n\r\n                        <input onChange={onImageChange} className={classes.input} id=\"icon-button-file\" type=\"file\" />\r\n                        <label htmlFor=\"icon-button-file\">\r\n                            <div className={classes.uploadImageBox}>\r\n                                <Icon><PlusIcon /></Icon>\r\n                            </div>\r\n                        </label>\r\n                    </div>\r\n                    :\r\n                    null\r\n                }\r\n                <div className={classes.footer}>\r\n                    <input onChange={onImageChange} className={classes.input} id=\"icon-button-file\" type=\"file\" />\r\n                    <label htmlFor=\"icon-button-file\">\r\n\r\n                        <Chip\r\n                            icon={<PhotoCamera />}\r\n                            label=\"Upload File\"\r\n                            color=\"primary\"\r\n                            className={classes.chip}\r\n                        />\r\n\r\n                    </label>\r\n                    <label onClick={() => setTagFriends(!tagFriends)} htmlFor=\"\">\r\n                        <Chip\r\n                            icon={<PeopleIcon />}\r\n                            label=\"Tag Friends\"\r\n                            color=\"primary\"\r\n                            className={classes.chip}\r\n\r\n                        />\r\n                    </label>\r\n\r\n                    <label>\r\n                        <Chip\r\n                            onClick={() => setShowEmoji(!showEmoji)} htmlFor=\"\"\r\n                            label=\"\"\r\n                            color=\"primary\"\r\n                            className={classes.chip}\r\n                        />\r\n                        {(showEmoji) ? <Picker style={{ position: 'absolute', zIndex: 1000, transform: 'translate(-50%,20%)' }} onSelect={(e) => onEmojiClick(e)} /> : null}\r\n                    </label>\r\n                    <Button\r\n                        disabled={(postText || postFiles.length > 0) ? false : true}\r\n                        onClick={submitPost}\r\n                        className={classes.postButton} variant=\"contained\" color=\"primary\">\r\n                        Post<PostIcon className={classes.postIcon} />\r\n                    </Button>\r\n                </div>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    post: state.post\r\n})\r\n\r\nexport default connect(mapStateToProps, { submitPost })(CreatePost);\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Input from '@material-ui/core/Input';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\nimport {createComment} from '../../../actions/postActions';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    commentSection: {\r\n        display: 'flex',\r\n        padding: '12px 16px 8px 8px'\r\n    },\r\n    commentBox: {\r\n        width: '100%',\r\n        padding: '4px 20px',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '25px'\r\n    }\r\n}));\r\n\r\nfunction CreateComment(props) {\r\n    const classes = useStyles();\r\n    const { user } = props.auth;\r\n    const { postId } = props;\r\n    const [commentText, setCommentText] = useState('');\r\n    const handleCommentText = (e) => {\r\n        if (e.key === 'Enter') {\r\n            setCommentText('');\r\n            props.onCreateComment(user.id,postId,commentText)\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <div className={classes.commentSection}>\r\n            <div>\r\n                <ListItemAvatar>\r\n                    <Avatar alt=\"Remy Sharp\" src={'/' + user.profileImage} />\r\n                </ListItemAvatar>\r\n            </div>\r\n            <div className={classes.commentBox}>\r\n                <Input\r\n                    fullWidth={true}\r\n                    placeholder=\"Write a comment...\"\r\n                    disableUnderline={true}\r\n                    onChange={(e) => setCommentText(e.target.value)}\r\n                    onKeyPress={(e) => handleCommentText(e)}\r\n                    value={commentText}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n})\r\n\r\nconst mapDispatchToProps = dispatch =>({\r\n    onCreateComment:(userId,postId,text)=>dispatch(createComment(userId,postId,text))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateComment);\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CommentIcon from '@material-ui/icons/Comment';\r\nimport LikeIcon from '@material-ui/icons/ThumbUp';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    commentSection: {\r\n        padding: '0 8px'\r\n    },\r\n    message: {\r\n        display: 'flex',\r\n        width: '100%',\r\n        position: 'relative',\r\n        minHeight: '10px',\r\n        wordBreak: 'break-all',\r\n        textAlign: 'left',\r\n        fontSize: '11px',\r\n\r\n    },\r\n    messageBody: {\r\n        width: '100%',\r\n        padding: '4px',\r\n        \"& p a\": {\r\n            color: '#385898',\r\n            fontWeight: 'bold',\r\n            \"&:hover\": {\r\n                cursor: 'pointer',\r\n                textDecoration: 'underline'\r\n            }\r\n        },\r\n        \"& p\": {\r\n            background: '#f2f3f5',\r\n            borderRadius: '45px',\r\n            padding: '8px 16px',\r\n            fontSize: '15px',\r\n            lineHeight: '1.2em'\r\n        }\r\n    },\r\n    actionsList: {\r\n        padding: theme.spacing(0, 2),\r\n        display: 'flex',\r\n        maxWidth: '100%',\r\n        \"& a\": {\r\n            color: '#385898',\r\n            fontSize: '14px',\r\n            padding: '0 4px',\r\n            \"&:hover\": {\r\n                cursor: 'pointer',\r\n                textDecoration: 'underline'\r\n            }\r\n        }\r\n    },\r\n}));\r\n\r\nexport default function Comments(props) {\r\n    const classes = useStyles();\r\n    const { comment } = props;\r\n    return (\r\n        <div>\r\n            <div className={classes.commentSection}>\r\n                <div className={classes.message}>\r\n                    <ListItemAvatar>\r\n                        <Avatar onError={(e) => { e.target.src = 'images/404.png' }} alt={comment.from.name} src={(comment.from.profileImage) ? comment.from.profileImage : 'images/blank.png'} />\r\n                    </ListItemAvatar>\r\n                    <div className={classes.messageBody}>\r\n                        <Typography component=\"p\"><a>{comment.from.name}</a> {comment.text}</Typography>\r\n                        <div className={classes.actionsList}>\r\n                            <a>Like</a>\r\n                            <a>Reply</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component, Fragment } from 'react';\r\nimport CommentIcon from '@material-ui/icons/Comment';\r\nimport LikeIcon from '@material-ui/icons/ThumbUp';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nclass PostActions extends Component {\r\n    render() {\r\n        const { actionItems, actionIcons, takeAction, postId, post, user, handleLike, checkUserLike } = this.props;\r\n        return (\r\n            <Fragment>\r\n                <Typography\r\n                    onClick={() => handleLike(postId)}\r\n                    className={actionItems}>\r\n                    <LikeIcon className={(checkUserLike(post, user)) ? actionIcons : takeAction} />\r\n                    {checkUserLike(post, user) ? 'Unlike' : 'Like'}\r\n                </Typography>\r\n                <Typography className={actionItems}><CommentIcon className={actionIcons} />Comment</Typography>\r\n                <Typography className={actionItems}><ShareIcon className={actionIcons} />Share</Typography>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PostActions;\r\n","import React, { Fragment } from 'react';\r\nimport LikeIcon from '@material-ui/icons/ThumbUp';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst PostActionResult = (props) => {\r\n    const {actionsResultItem,likeResultIcon,like} = props;\r\n    return (\r\n        <Fragment>\r\n            <Typography className={actionsResultItem}><LikeIcon className={likeResultIcon} color=\"primary\" /></Typography>\r\n            <Typography className={actionsResultItem}>{(like) ? like.length : 0}</Typography>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default PostActionResult;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport CreateComment from '../../posts/comments/CreateComment';\r\nimport Comments from '../../posts/comments/Comments';\r\nimport PostActions from '../../../common/PostActions';\r\nimport { connect } from 'react-redux';\r\nimport { likePost } from '../../../actions/postActions';\r\nimport PostActionResult from '../../../common/PostActionResult';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    imageDetails: {\r\n        width: '1200px',\r\n        display: 'flex',\r\n        overflow: 'hidden'\r\n    },\r\n    imageHolder: {\r\n        width: '65%',\r\n        background: 'black',\r\n        height: 'inherit',\r\n        display: 'block',\r\n    },\r\n    image: {\r\n        width: '100%',\r\n        height: '100%',\r\n    },\r\n    list: {\r\n        width: '100%',\r\n        maxWidth: 360,\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    aboutImage: {\r\n        width: '35%',\r\n        overflow: 'auto'\r\n    },\r\n    actionsList: {\r\n        padding: theme.spacing(1, 2),\r\n        display: 'flex',\r\n        maxWidth: '100%',\r\n        backgroundColor: theme.palette.background.paper,\r\n        justifyContent: 'space-around'\r\n    },\r\n    actionItems: {\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        padding: theme.spacing(0, 2),\r\n        transition: 'all 0.5s',\r\n        '&:hover': {\r\n            cursor: 'pointer',\r\n            transform: 'scale(1.1)',\r\n            '& > *': {\r\n                color: '#385898',\r\n            }\r\n        },\r\n        '&:active': {\r\n            transform: 'scale(0.9)'\r\n        }\r\n    },\r\n    actionIcons: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n        color: '#385898'\r\n    },\r\n    takeAction: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n        color: '#e9eaed'\r\n    },\r\n    actionsResult: {\r\n        padding: theme.spacing(1, 0),\r\n        display: 'flex',\r\n        maxWidth: '100%',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    actionsResultItem: {\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        padding: 0,\r\n    },\r\n    divider: {\r\n        borderBottom: '1px solid #ddd',\r\n        margin: '5px 7px 6px',\r\n        paddingTop: '1px'\r\n    },\r\n    likeResultIcon: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n    },\r\n}));\r\n\r\nconst Photo = (props) => {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n    const [image, setImage] = React.useState(null);\r\n    const [userName, setUserName] = React.useState('');\r\n    const { imageDetails, openPhoto, isImage } = props;\r\n    const { user } = props.auth;\r\n\r\n    React.useEffect(() => {\r\n        if (open !== openPhoto) {\r\n            setOpen(openPhoto);\r\n            setImage(imageDetails.image);\r\n            setUserName(imageDetails.createdBy.name);\r\n        }\r\n    })\r\n\r\n    const handleClose = () => {\r\n        setOpen(false)\r\n        props.onclose();\r\n    }\r\n\r\n    const handleLike = (postId) => {\r\n        const { id } = props.auth.user;\r\n        props.likePost(postId, id);\r\n    }\r\n\r\n    const checkUserLike = (post, user) => {\r\n        return post.like && post.like.find(l => l.user === user.id);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Dialog\r\n                maxWidth=\"xl\"\r\n                open={open}\r\n                onClose={handleClose}\r\n            >\r\n                <div className={classes.imageDetails}>\r\n\r\n                    <div className={classes.imageHolder}>\r\n                        {(isImage) ? <img\r\n                            className={classes.image}\r\n                            src={image}\r\n                        /> :\r\n                            <video\r\n                                className={classes.image}\r\n                                src={image}\r\n                                controls />}\r\n                    </div>\r\n\r\n                    <div className={classes.aboutImage}>\r\n                        <ListItem alignItems=\"flex-start\">\r\n                            <ListItemAvatar>\r\n                                <Avatar onError={(e) => { e.target.src = 'images/404.png' }} alt={imageDetails.createdBy.name} src={(imageDetails.createdBy.profileImage) ? imageDetails.createdBy.profileImage : 'images/blank.png'} />\r\n                            </ListItemAvatar>\r\n                            <ListItemText\r\n                                primary={userName}\r\n                            />\r\n                        </ListItem >\r\n                        <div className={classes.actionsResult}>\r\n                            <PostActionResult\r\n                                actionsResultItem={classes.actionsResultItem}\r\n                                likeResultIcon={classes.likeResultIcon}\r\n                                like={imageDetails.like} />\r\n                        </div>\r\n                        <hr className={classes.divider} />\r\n                        <Paper className={classes.actionsList}>\r\n                            <PostActions\r\n                                actionItems={classes.actionItems}\r\n                                actionIcons={classes.actionIcons}\r\n                                takeAction={classes.takeAction}\r\n                                postId={imageDetails._id}\r\n                                post={imageDetails}\r\n                                user={user}\r\n                                handleLike={handleLike}\r\n                                checkUserLike={checkUserLike}\r\n                            />\r\n                        </Paper>\r\n                        {(imageDetails.comments) ? imageDetails.comments.map(comment => (\r\n                            <Comments key={comment._id} comment={comment} />\r\n                        )) : null}\r\n                        <CreateComment postId={imageDetails._id} />\r\n                    </div>\r\n                </div>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n})\r\n\r\nexport default connect(mapStateToProps, { likePost })(Photo);","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport { green } from '@material-ui/core/colors';\r\nimport Photo from './Photo';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    photoGrid: {\r\n        padding: theme.spacing(3, 2),\r\n    },\r\n    titleBar: {\r\n        \"& ul,& ul li\": {\r\n            margin: 0,\r\n            padding: 0\r\n        },\r\n        \"& ul li span\": {\r\n            fontSize: '20px'\r\n        }\r\n    },\r\n    pictureGrid: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        overflow: 'hidden',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    gridList: {\r\n        height: 450,\r\n        \"& img\": {\r\n            cursor: 'pointer'\r\n        },\r\n        \"& video\": {\r\n            cursor: 'pointer',\r\n            width: '100%',\r\n            height: '100%'\r\n        }\r\n    },\r\n    icon: {\r\n        color: 'rgba(255, 255, 255, 0.54)',\r\n    },\r\n    photoAvatar: {\r\n        margin: 10,\r\n        color: '#fff',\r\n        backgroundColor: green[500],\r\n    }\r\n}))\r\n\r\nexport default function PhotoGrid(props) {\r\n    const classes = useStyles();\r\n    const [isImage, setIsImage] = React.useState(false);\r\n    const [openPhoto, setOpenPhoto] = React.useState(false);\r\n    const [imageDetails, setImageDetails] = React.useState(null);\r\n    const { posts } = props;\r\n\r\n    const onPhotoClick = (image) => {\r\n        setOpenPhoto(true);\r\n        setIsImage(true);\r\n        setImageDetails(image);\r\n    }\r\n\r\n    const onVideoClick = (video) => {\r\n        setOpenPhoto(true);\r\n        setIsImage(false);\r\n        setImageDetails(video);\r\n    }\r\n\r\n    const picturePost = posts.filter(post => post.images && post.images.length > 0)\r\n        .map(post => {\r\n            return post.images.map(image => {\r\n                return {\r\n                    _id: post._id,\r\n                    image: image.imageUrl,\r\n                    createdBy: post.createdBy,\r\n                    comments: post.comments,\r\n                    like: post.like,\r\n                    profileImage: post.profileImage,\r\n                    userName: post.userName\r\n                }\r\n            })\r\n        }).flat(1);\r\n\r\n    const videoPost = posts.filter(post => post.videos && post.videos.length > 0)\r\n        .map(post => {\r\n            return post.videos.map(image => {\r\n                return {\r\n                    _id: post._id,\r\n                    video: image.videoUrl,\r\n                    createdBy: post.createdBy,\r\n                    comments: post.comments,\r\n                    like: post.like,\r\n                    profileImage: post.profileImage,\r\n                    userName: post.userName\r\n                }\r\n            })\r\n        }).flat(1);\r\n\r\n    return (\r\n        <div>\r\n            <Paper className={classes.photoGrid}>\r\n                <div className={classes.titleBar}>\r\n                    <List>\r\n                        <ListItem>\r\n                            <Avatar className={classes.photoAvatar}>\r\n                                <ImageIcon />\r\n                            </Avatar>\r\n                            <ListItemText primary=\"Photos\" />\r\n                        </ListItem>\r\n                    </List>\r\n                </div>\r\n                <div className={classes.pictureGrid}>\r\n                    <GridList cellHeight={120} className={classes.gridList} cols={3}>\r\n                        {picturePost.map(post => (\r\n                            <GridListTile key={post._id + '-' + post.image} cols={1}>\r\n                                <img onError={(e) => { e.target.src='images/404.png' }} onClick={() => onPhotoClick(post)} src={post.image} />\r\n                            </GridListTile>\r\n                        ))}\r\n                        {videoPost.map(post => (\r\n                            <GridListTile key={post._id + '-' + post.video} cols={1}>\r\n                                <video onClick={() => onVideoClick(post)} src={post.video} />\r\n                            </GridListTile>\r\n                        ))}\r\n                    </GridList>\r\n                    {(openPhoto) ? <Photo isImage={isImage} openPhoto={openPhoto} imageDetails={imageDetails} onclose={() => {\r\n                        setOpenPhoto(false)\r\n                    }} /> : null}\r\n                </div>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core'\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\r\nimport FriendIcon from '@material-ui/icons/People';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport { pink } from '@material-ui/core/colors';\r\nimport tileData from './tileData';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    friendGrid: {\r\n        padding: theme.spacing(3, 2),\r\n    },\r\n    titleBar: {\r\n        \"& ul,& ul li\":{\r\n            margin:0,\r\n            padding:0\r\n        },\r\n        \"& ul li span\":{\r\n            fontSize:'20px'\r\n        }\r\n    },\r\n    pictureGrid: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        overflow: 'hidden',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    gridList: {\r\n        height: 450,\r\n    },\r\n    icon: {\r\n        color: 'rgba(255, 255, 255, 0.54)',\r\n    },\r\n    friendAvatar:{\r\n        margin: 10,\r\n        color: '#fff',\r\n        backgroundColor: pink[500],\r\n    }\r\n}))\r\n\r\nexport default function FriendGrid(props) {\r\n    const classes = useStyles();\r\n    const {friends} = props;\r\n    return (\r\n        <div>\r\n            <Paper className={classes.friendGrid}>\r\n                <div className={classes.titleBar}>\r\n                    <List>\r\n                        <ListItem>\r\n                            <Avatar className={classes.friendAvatar}>\r\n                                <FriendIcon />\r\n                            </Avatar>\r\n                            <ListItemText primary=\"Friends\" />\r\n                        </ListItem>\r\n                    </List>\r\n                </div>\r\n                <div className={classes.pictureGrid}>\r\n                    <GridList cellHeight={120} className={classes.gridList} cols={3}>\r\n                        {friends.map(friend => (\r\n                            <GridListTile key={friend._id} cols={1}>\r\n                                <img onError={(e) => { e.target.src='images/404.png' }} src={(friend.profileImage)?friend.profileImage:'images/blank.png'} alt={friend.name} />\r\n                                <GridListTileBar\r\n                                    title={friend.name}\r\n                                />\r\n                            </GridListTile>\r\n                        ))}\r\n                    </GridList>\r\n                </div>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport Photo from '../timeline/photos/Photo';\r\nimport Popper from '@material-ui/core/Popper';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    postDescription: {\r\n        \"& p\": {\r\n            padding: theme.spacing(0, 2)\r\n        },\r\n        \"& a\": {\r\n            textDecoration: 'none',\r\n            padding: '0 2px',\r\n            color: '#385898',\r\n            \"&:hover\": {\r\n                textDecoration: 'underline',\r\n                cursor: 'pointer',\r\n            }\r\n        }\r\n    },\r\n    gridList: {\r\n        // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\r\n        transform: 'translateZ(0)',\r\n        width: '100%',\r\n        \"& img\": {\r\n            backgroundPosition: 'initial',\r\n            cursor: 'pointer',\r\n            width: '100%',\r\n            height: 'inherit'\r\n        },\r\n        \"& video\": {\r\n            backgroundPosition: 'initial',\r\n            cursor: 'pointer',\r\n            width: '100%',\r\n            height: 'inherit'\r\n        }\r\n    },\r\n    images: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        overflow: 'hidden',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    arrowTag: {\r\n        content: \" \",\r\n        position: 'absolute',\r\n        left: '5%',\r\n        bottom: '100%',\r\n        borderWidth: '5px',\r\n        borderStyle: 'solid',\r\n        borderColor: 'transparent transparent black'\r\n    },\r\n    popperElement: {\r\n        zIndex: 50,\r\n        maxWidth: '300px',\r\n        minWidth: '192px',\r\n    },\r\n    popperContent: {\r\n        transform: 'translate3d(0, 11px, 0px)',\r\n        background: '#000',\r\n        color: '#fff',\r\n        \"& p:hover\": {\r\n            color: '#fff',\r\n            background: '#385898',\r\n            cursor: 'pointer'\r\n        }\r\n    },\r\n})\r\n)\r\n\r\nfunction SinglePost(props) {\r\n    const classes = useStyles();\r\n\r\n    const [openPhoto, setOpenPhoto] = React.useState(false);\r\n    const [isImage, setIsImage] = React.useState(false);\r\n    const [imageDetails, setImageDetails] = React.useState(null);\r\n    const [anchorE1, setAnchorE1] = React.useState(null);\r\n\r\n    const { post } = props;\r\n    const { images, videos } = post;\r\n    const tags = post.tags;\r\n    const tagsCount = tags.length - 1;\r\n    const otherTags = tags.slice(1);\r\n\r\n\r\n    function onPhotoClick(imagePost, imageId) {\r\n        setOpenPhoto(true);\r\n        setIsImage(true);\r\n        let picPost;\r\n        imagePost.images.find(image => {\r\n            if (image._id === imageId) {\r\n                picPost = {\r\n                    _id: imagePost._id,\r\n                    image: image.imageUrl,\r\n                    createdBy: imagePost.createdBy,\r\n                    comments: imagePost.comments,\r\n                    like: imagePost.like,\r\n                    profileImage: imagePost.profileImage,\r\n                    userName: imagePost.userName\r\n                }\r\n            }\r\n        });\r\n        setImageDetails(picPost);\r\n    }\r\n\r\n    function onVideoClick(videoPost, videoId) {\r\n        setOpenPhoto(true);\r\n        setIsImage(false);\r\n        let vidPost;\r\n        videoPost.videos.find(video => {\r\n            if (video._id === videoId) {\r\n                vidPost = {\r\n                    _id: videoPost._id,\r\n                    image: video.videoUrl,\r\n                    createdBy: videoPost.createdBy,\r\n                    comments: videoPost.comments,\r\n                    like: videoPost.like,\r\n                    profileImage: videoPost.profileImage,\r\n                    userName: videoPost.userName\r\n                }\r\n            }\r\n        });\r\n        setImageDetails(vidPost);\r\n    }\r\n\r\n    const handleTagPopper = (event) => {\r\n        setAnchorE1((anchorE1) ? null : event.currentTarget);\r\n    }\r\n\r\n    const getFileData = (file) => {\r\n        let data;\r\n        if (file.length === 1) {\r\n            data = file.map(image => {\r\n                return {\r\n                    ...image,\r\n                    featured: true\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            data = file.map(image => {\r\n                return {\r\n                    ...image,\r\n                    featured: false\r\n                }\r\n            });\r\n        }\r\n        return data;\r\n    }\r\n\r\n    let imageUrls = (images) ? getFileData(images) : [],\r\n        videoUrls = (videos) ? getFileData(videos) : [];\r\n\r\n    var openTag = Boolean(anchorE1);\r\n\r\n    return (\r\n        <div key={post._id} className={classes.postDescription}>\r\n            <Typography component=\"div\" style={{ textAlign: 'left' }}>\r\n                <p>{post.text}</p>\r\n                {(tags.length === 1) ? <p>- with <a href=\"#\">{tags[0].user.name}</a></p> : (tags.length > 1) ? <p>- with <a href=\"#\">{tags[0].user.name}</a> and <a onClick={handleTagPopper}>{tagsCount} others</a></p> : null}\r\n                <Popper className={classes.popperElement}\r\n                    anchorEl={anchorE1}\r\n                    open={openTag}\r\n                    placement='bottom-start'\r\n                    disablePortal={true}\r\n                    modifiers={\r\n                        {\r\n                            flip: {\r\n                                enabled: false,\r\n                            },\r\n                            preventOverflow: {\r\n                                enabled: false,\r\n                                boundariesElement: 'scrollParent',\r\n                            },\r\n                        }\r\n                    } >\r\n                    <div className={classes.popperContent} >\r\n                        <div className={classes.arrowTag} > </div>\r\n                        {otherTags.map(oTag => (\r\n                            <Typography key={oTag.user._id} className={classes.typography} > {oTag.user.name} </Typography>)\r\n                        )}\r\n                    </div>\r\n                </Popper>\r\n            </Typography>\r\n            <div className={classes.images}>\r\n                <GridList className={classes.gridList}>\r\n                    {(imageUrls) ? imageUrls.map(image => (\r\n                        <GridListTile cols={image.featured ? 2 : 1} rows={image.featured ? 2 : 1} key={image._id}>\r\n                            <img onError={(e) => { e.target.src='images/404.png' }} onClick={() => onPhotoClick(post, image._id)} src={(image.imageUrl)?`${image.imageUrl}`:'images/404.png'} />\r\n                        </GridListTile>\r\n                    )) :\r\n                        null}\r\n                    {(videoUrls) ? videoUrls.map(video => (\r\n                        <GridListTile cols={video.featured ? 2 : 1} rows={video.featured ? 2 : 1} key={video._id}>\r\n                            <video onError={(e) => { e.target.src='images/404.png' }} onClick={() => onVideoClick(post, video._id)} src={(video.videoUrl)?`${video.videoUrl}`:'images/404.png'} />\r\n                        </GridListTile>\r\n                    )) :\r\n                        null}\r\n                </GridList>\r\n                {(openPhoto) ? <Photo isImage={isImage} openPhoto={openPhoto} imageDetails={imageDetails} onclose={() => {\r\n                    setOpenPhoto(false)\r\n                }} /> : null}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SinglePost;\r\n","import React, { Component } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { setTimeLineUser } from '../../actions/profileActions';\r\nimport UserAbout from './about/UserAbout';\r\nimport CreatePost from '../posts/CreatePost';\r\nimport PhotoGrid from './photos/PhotoGrid';\r\nimport FriendGrid from './friends/FriendGrid';\r\nimport SinglePost from '../posts/SinglePost';\r\nimport CommentIcon from '@material-ui/icons/Comment';\r\nimport LikeIcon from '@material-ui/icons/ThumbUp';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport CreateComment from '../posts/comments/CreateComment';\r\nimport Comments from '../posts/comments/Comments';\r\nimport { likePost, getFeed, clearAllPosts } from '../../actions/postActions';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport PostActions from '../../common/PostActions';\r\n\r\nconst useStyles = theme => ({\r\n    timeline: {\r\n        width: '85%',\r\n        marginLeft: '5%'\r\n    },\r\n    timeLineCover: {\r\n        borderRadius: '2px'\r\n    },\r\n    coverPhoto: {\r\n        width: '100%',\r\n        height: 'auto',\r\n        \"& > img\": {\r\n            width: '100%',\r\n            height: '400px',\r\n            border: '1px solid #888888',\r\n            boxShadow: '1px 1px #888888',\r\n        }\r\n    },\r\n    profilePicture: {\r\n        transform: 'translate(-35%,-80%)',\r\n        position: 'absolute',\r\n        left: '10%',\r\n        \"&  img\": {\r\n            padding: theme.spacing(0.25, 0.25),\r\n            width: '200px',\r\n            height: '200px',\r\n            borderRadius: '50%',\r\n            border: '2px solid #fff',\r\n            background: '#fff',\r\n            zIndex: 100\r\n        }\r\n    },\r\n    uploadPhotoDiv: {\r\n        bottom: '10px',\r\n        left: '5px',\r\n        overflow: 'hidden',\r\n        width: '200px',\r\n        position: 'absolute',\r\n    },\r\n    updatePhoto: {\r\n        background: 'linear-gradient( transparent, rgba(0, 0, 0, .6) 0%, rgba(0, 0, 0, .6) 100% )',\r\n        width: '100%',\r\n        borderBottomLeftRadius: '90px',\r\n        borderBottomRightRadius: '90px',\r\n        height: '90px',\r\n        textAlign: 'center',\r\n        color: '#fff',\r\n        cursor: 'pointer',\r\n        transition: '0.3s'\r\n    },\r\n    uploadImageInput: {\r\n        display: 'none'\r\n    },\r\n    timeLineNav: {\r\n        paddingLeft: '30%',\r\n        borderRadius: 'none',\r\n        background: '#fff'\r\n    },\r\n    navList: {\r\n        margin: 0,\r\n        padding: 0,\r\n        display: 'flex',\r\n        listStyleType: 'none',\r\n        borderLeft: '1px solid #e9eaed',\r\n    },\r\n    listItem: {\r\n        borderRight: '1px solid #e9eaed',\r\n        height: '43px',\r\n        lineHeight: 3.05,\r\n        padding: '17px 17px',\r\n        position: 'relative',\r\n        verticalAlign: 'middle',\r\n        whiteSpace: 'nowrap',\r\n        color: '#385898',\r\n        cursor: 'pointer',\r\n        textDecoration: 'none',\r\n        fontSize: '16px',\r\n        fontWeight: 600\r\n    },\r\n    totalFriends: {\r\n        color: '#89919c',\r\n        fontSize: '11px',\r\n        fontWeight: 'normal',\r\n        paddingLeft: '6px',\r\n    },\r\n    pageDetails: {\r\n        marginTop: theme.spacing(2)\r\n    },\r\n    RightContent: {\r\n        marginLeft: '20px',\r\n        width: '120%'\r\n    },\r\n    photoGrid: {\r\n        marginTop: theme.spacing(2)\r\n    },\r\n    friendGrid: {\r\n        marginTop: theme.spacing(2)\r\n    },\r\n    actionContainer: {\r\n        width: '50%',\r\n        position: 'absolute'\r\n    },\r\n    interactingActions: {\r\n        position: 'absolute',\r\n        display: 'flex',\r\n        padding: '0px 12px',\r\n        bottom: '20px',\r\n        left: '30%',\r\n        \"& div a\": {\r\n            padding: '4px 16px',\r\n            background: '#e9eaed',\r\n            border: '1px solid #ccd0d5',\r\n            cursor: 'pointer'\r\n        }\r\n    },\r\n    otherActions: {\r\n        marginLeft: theme.spacing(1),\r\n        display: 'flex'\r\n    },\r\n    typography: {\r\n        padding: '8px 16px 4px 22px',\r\n        fontSize: '14px',\r\n    },\r\n    arrowFriend: {\r\n        content: \" \",\r\n        position: 'absolute',\r\n        left: '5%',\r\n        bottom: '100%',\r\n        borderWidth: '10px',\r\n        borderStyle: 'solid',\r\n        borderColor: 'transparent transparent white'\r\n    },\r\n    arrowFollow: {\r\n        content: \" \",\r\n        position: 'absolute',\r\n        right: '5%',\r\n        bottom: '100%',\r\n        borderWidth: '10px',\r\n        borderStyle: 'solid',\r\n        borderColor: 'transparent transparent white'\r\n    },\r\n    popperElement: {\r\n        zIndex: 50,\r\n        maxWidth: '300px',\r\n        minWidth: '192px',\r\n    },\r\n    popperContent: {\r\n        transform: 'translate3d(0, 11px, 0px)',\r\n        \"& p:hover\": {\r\n            color: '#fff',\r\n            background: '#385898',\r\n            cursor: 'pointer'\r\n        }\r\n    },\r\n    divider: {\r\n        borderBottom: '1px solid #ddd',\r\n        margin: '5px 7px 6px',\r\n        paddingTop: '1px'\r\n    },\r\n    postItems: {\r\n        marginTop: theme.spacing(5),\r\n        display: 'block',\r\n        width: '80%'\r\n    },\r\n    list: {\r\n        width: '100%',\r\n        maxWidth: 360,\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    inline: {\r\n        display: 'inline',\r\n    },\r\n    post: {\r\n        width: '100%'\r\n    },\r\n    actionsResult: {\r\n        padding: theme.spacing(1, 0),\r\n        display: 'flex',\r\n        maxWidth: '100%',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    actionsResultItem: {\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        padding: 0,\r\n    },\r\n    actionsList: {\r\n        padding: theme.spacing(1, 2),\r\n        display: 'flex',\r\n        maxWidth: '100%',\r\n        backgroundColor: theme.palette.background.paper,\r\n        justifyContent: 'space-around'\r\n    },\r\n    actionItems: {\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        padding: theme.spacing(0, 2),\r\n        transition:'all 0.5s',\r\n        '&:hover': {\r\n            cursor: 'pointer',\r\n            transform: 'scale(1.1)',\r\n            '& > *': {\r\n                color: '#385898',\r\n            }\r\n        },\r\n        '&:active': {\r\n            transform: 'scale(0.9)'\r\n        }\r\n    },\r\n    actionIcons: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n        color: '#385898',\r\n    },\r\n    takeAction: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n        color: '#e9eaed'\r\n    },\r\n    likeResultIcon: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n    },\r\n    commentSection: {\r\n        marginTop: theme.spacing(1)\r\n    },\r\n    createComment: {\r\n        marginTop: theme.spacing(2)\r\n    },\r\n    comments: {\r\n        marginTop: theme.spacing(1)\r\n    },\r\n    divider: {\r\n        borderBottom: '1px solid #ddd',\r\n        margin: '5px 7px 6px',\r\n        paddingTop: '1px'\r\n    }\r\n});\r\n\r\nclass TimeLine extends Component {\r\n\r\n    handleLike = (postId) => {\r\n        const { id } = this.props.auth.user;\r\n        this.props.likePost(postId, id);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.clearAllPosts();\r\n        this.props.getFeed();\r\n    }\r\n\r\n    checkUserLike = (post, user) => {\r\n        return post.like && post.like.find(l => l.user === user.id);\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { user } = this.props.auth;\r\n        const allPosts = this.props.post.allPosts;\r\n        const { friends } = this.props.profile;\r\n        return (\r\n            <div className={classes.pageDetails} >\r\n                <Grid container spacing={0} >\r\n                    <Grid item xs={5} >\r\n                        <div className={classes.leftContent} >\r\n                            <div className={classes.userAbout} >\r\n                                <UserAbout />\r\n                            </div>\r\n                            <div className={classes.photoGrid} >\r\n                                <PhotoGrid posts={allPosts} />\r\n                            </div>\r\n                            <div className={classes.friendGrid} >\r\n                                <FriendGrid friends={friends} />\r\n                            </div>\r\n\r\n                        </div>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={7} >\r\n                        <div className={classes.RightContent} >\r\n                            <div className={classes.CreatePost} >\r\n                                <CreatePost />\r\n                            </div>\r\n                            {allPosts.length > 0 ? allPosts.map(post => (\r\n                                <Paper key={post._id} className={classes.postItems}>\r\n                                    <List className={classes.list}>\r\n                                        <ListItem alignItems=\"flex-start\">\r\n                                            <ListItemAvatar>\r\n                                                <Avatar  onError={(e) => { e.target.src = 'images/404.png' }} alt=\"Remy Sharp\" src={post.createdBy.profileImage} />\r\n                                            </ListItemAvatar>\r\n                                            <ListItemText\r\n                                                primary={post.createdBy.name}\r\n                                            />\r\n                                        </ListItem >\r\n                                    </List>\r\n                                    <SinglePost post={post} />\r\n                                    <div className={classes.actionsResult}>\r\n                                        <Typography className={classes.actionsResultItem}><LikeIcon className={classes.likeResultIcon} color=\"primary\" /></Typography>\r\n                                        <Typography className={classes.actionsResultItem}>{(post.like) ? post.like.length : 0}</Typography>\r\n                                    </div>\r\n                                    <hr className={classes.divider} />\r\n                                    <div className={classes.actionsList}>\r\n                                        <PostActions\r\n                                            actionItems={classes.actionItems}\r\n                                            actionIcons={classes.actionIcons}\r\n                                            takeAction={classes.takeAction}\r\n                                            postId={post._id}\r\n                                            post={post}\r\n                                            user={user}\r\n                                            handleLike={this.handleLike}\r\n                                            checkUserLike={this.checkUserLike}\r\n                                        />\r\n                                        {/* <Typography onClick={() => this.handleLike(post._id)} className={classes.actionItems}><LikeIcon className={(post.like && post.like.find(l => l.user === user.id)) ? classes.actionIcons : classes.takeAction} />Like</Typography>\r\n                                        <Typography className={classes.actionItems}><CommentIcon className={classes.actionIcons} />Comment</Typography>\r\n                                        <Typography className={classes.actionItems}><ShareIcon className={classes.actionIcons} />Share</Typography> */}\r\n                                    </div>\r\n                                    <hr className={classes.divider} />\r\n                                    <div className={classes.commentSection}>\r\n                                        <div className={classes.createComment}>\r\n                                            <CreateComment postId={post._id} />\r\n                                        </div>\r\n                                        <div className={classes.comments}>\r\n                                            {(post.comments) ?\r\n                                                post.comments.map(comment => (\r\n                                                    <Comments key={`timeline/${post._id}-${comment._id}`} comment={comment} />\r\n                                                ))\r\n                                                : null}\r\n                                        </div>\r\n                                    </div>\r\n                                </Paper>\r\n                            )) : null}\r\n\r\n                        </div>\r\n                    </Grid>\r\n                </Grid>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    post: state.post,\r\n    profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps, { setTimeLineUser, likePost, getFeed, clearAllPosts })(withStyles(useStyles)(withRouter(TimeLine)));\r\n","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport Icon from '@material-ui/core/Icon';\r\n\r\nconst useStyles = theme => ({\r\n    about: {\r\n        marginTop: theme.spacing(2),\r\n        background: '#fff',\r\n        border: '1px solid #ccd0d5',\r\n        borderRadius: '3px',\r\n        marginBottom: '10px'\r\n    },\r\n    aboutHeader: {\r\n        background: '#f5f6f7',\r\n        borderBottom: '1px solid #d3d6db',\r\n        borderRadius: '2px 2px 0 0',\r\n        marginBottom: '15px',\r\n        paddingTop:'16px'\r\n    },\r\n    headerContent: {\r\n        fontSize: '20px',\r\n        fontWeight: 'bold',\r\n        height: '32px',\r\n        margin:'0 12px 5px',\r\n        lineHeight:1,\r\n        '& a': {\r\n            color: '#4b4f56',\r\n            textDecoration:'none',\r\n            verticalAlign:'text-top'\r\n        }\r\n    },\r\n    personIcon:{\r\n        color:'#969292',\r\n    }\r\n})\r\n\r\nclass About extends Component {\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { user } = this.props.auth;\r\n        return (\r\n            <div className={classes.about}>\r\n                <div className={classes.aboutHeader}>\r\n                    <h3 className={classes.headerContent}>\r\n                        <Icon>\r\n                            <PersonIcon className={classes.personIcon} />\r\n                        </Icon>\r\n                        <Link to={`/${user.userName}/about`}>About</Link>\r\n                    </h3>\r\n                </div>\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    post: state.post,\r\n    profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps)(withStyles(useStyles)(withRouter(About)));\r\n","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport PersonIcon from '@material-ui/icons/PersonTwoTone';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\n\r\nconst useStyles = theme => ({\r\n    friends: {\r\n        marginTop: theme.spacing(2),\r\n        background: '#fff',\r\n        border: '1px solid #ccd0d5',\r\n        borderRadius: '3px',\r\n        marginBottom: '10px'\r\n    },\r\n    friendsHeader: {\r\n        background: '#f5f6f7',\r\n        borderBottom: '1px solid #d3d6db',\r\n        borderRadius: '2px 2px 0 0',\r\n        marginBottom: '15px',\r\n        paddingTop: '16px'\r\n    },\r\n    headerContent: {\r\n        fontSize: '20px',\r\n        fontWeight: 'bold',\r\n        height: '32px',\r\n        margin: '0 12px 5px',\r\n        lineHeight: 1,\r\n        '& a': {\r\n            color: '#4b4f56',\r\n            textDecoration: 'none',\r\n            verticalAlign: 'text-top'\r\n        }\r\n    },\r\n    personIcon: {\r\n        color: '#969292',\r\n    },\r\n    friendsList: {\r\n        listStyleType: 'none',\r\n        margin: 0,\r\n        padding: 0\r\n    },\r\n    friendDetails: {\r\n        border: '1px solid #e9ebee',\r\n        display: 'inline-block',\r\n        margin: '0 0 13px 13px',\r\n        padding: '0 10px 0 0',\r\n        position: 'relative',\r\n        varticalAlign: 'top',\r\n        width: '390px'\r\n    },\r\n    friend: {\r\n        '& img': {\r\n            width: '100px',\r\n            height: '100px',\r\n            float: 'left'\r\n        }\r\n    },\r\n    friendWrapper: {\r\n        display: 'inline-block',\r\n        float: 'right'\r\n    },\r\n    friendStatusWrapper: {\r\n        display: 'inline-block',\r\n        verticalAlign: 'middle'\r\n    },\r\n    friendButton: {\r\n        display: 'inline-block',\r\n        verticalAlign: 'top',\r\n        '& a': {\r\n            padding: '4px 12px',\r\n            background: '#e9eaed',\r\n            border: '1px solid #ccd0d5',\r\n            cursor: 'pointer',\r\n        }\r\n    },\r\n    checkIcon: {\r\n        verticalAlign: 'sub',\r\n        '& svg': {\r\n            color: 'green',\r\n            width: '0.9em'\r\n        }\r\n    },\r\n    nameWrapper: {\r\n        display: 'inline-block'\r\n    },\r\n    friendName: {\r\n        color: '#385898',\r\n        cursor: 'pointer',\r\n        textDecoration: 'none',\r\n        fontWeight: '600',\r\n        fontSize: '14px',\r\n        marginLeft: '20px',\r\n        '&:hover': {\r\n            textDecoration: 'underline'\r\n        }\r\n    }\r\n})\r\n\r\nclass Friends extends Component {\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { user } = this.props.auth;\r\n        const { friends } = this.props.profile;\r\n        const friendList = friends.map(friend => (\r\n            <li key={friend._id} className={classes.friendDetails}>\r\n                <div className={classes.friend}>\r\n                    <img src={friend.profileImage?`/${friend.profileImage}`:'/images/blank.png'} alt=\"\" />\r\n                    <div className={classes.friendWrapper}>\r\n                        <div className={classes.friendStatusWrapper} style={{ height: '35px' }}></div>\r\n                        <div className={classes.friendStatus}>\r\n                            <div className={classes.friendButton}>\r\n                                <a>\r\n                                    <span className={classes.checkIcon}>\r\n                                        <Icon>\r\n                                            <CheckIcon />\r\n                                        </Icon>\r\n                                    </span>\r\n                                    <span> Friends</span></a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className={classes.nameWrapper}>\r\n                        <div className={classes.friendStatusWrapper} style={{ height: '35px' }}></div>\r\n                        <div className={classes.friendNameWrapper}>\r\n                            <Link className={classes.friendName} to={`/${friend.userName}`}>\r\n                                {friend.name}\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n        ))\r\n        return (\r\n            <div className={classes.friends}>\r\n                <div className={classes.friendsHeader}>\r\n                    <h3 className={classes.headerContent}>\r\n                        <Icon>\r\n                            <PersonIcon className={classes.personsIcon} />\r\n                        </Icon>\r\n                        <Link to={`/${user.userName}/friends`}> Friends</Link>\r\n                    </h3>\r\n                </div>\r\n\r\n                <Grid container spacing={0}>\r\n                    <ul className={classes.friendsList}>\r\n                        {friendList}\r\n                    </ul>\r\n                </Grid>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    post: state.post,\r\n    profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps)(withStyles(useStyles)(withRouter(Friends)));\r\n","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core';\r\nimport CameraIcon from '@material-ui/icons/CameraFront';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport Photo from './photos/Photo';\r\n\r\nconst useStyles = theme => ({\r\n    photos: {\r\n        marginTop: theme.spacing(2),\r\n        background: '#fff',\r\n        border: '1px solid #ccd0d5',\r\n        borderRadius: '3px',\r\n        marginBottom: '10px'\r\n    },\r\n    photosHeader: {\r\n        background: '#f5f6f7',\r\n        borderBottom: '1px solid #d3d6db',\r\n        borderRadius: '2px 2px 0 0',\r\n        marginBottom: '15px',\r\n        paddingTop: '16px'\r\n    },\r\n    headerContent: {\r\n        fontSize: '20px',\r\n        fontWeight: 'bold',\r\n        height: '32px',\r\n        margin: '0 12px 5px',\r\n        lineHeight: 1,\r\n        '& a': {\r\n            color: '#4b4f56',\r\n            textDecoration: 'none',\r\n            verticalAlign: 'text-top'\r\n        }\r\n    },\r\n    cameraIcon: {\r\n        color: '#969292',\r\n    },\r\n    pictureGrid: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        overflow: 'hidden',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    gridList: {\r\n        height: 450,\r\n        \"& img\": {\r\n            cursor: 'pointer'\r\n        },\r\n        \"& video\": {\r\n            cursor: 'pointer',\r\n            width:'100%',\r\n            height:'100%'\r\n        }\r\n    },\r\n})\r\n\r\nclass Photos extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            openPhoto:false,\r\n            isImage:false,\r\n            imageDetails:null\r\n        }\r\n    }\r\n\r\n    onPhotoClick=(image)=>{\r\n        this.setState({\r\n            openPhoto:true,\r\n            imageDetails:image,\r\n            isImage:true\r\n        })\r\n    }\r\n    onVideoClick=(video)=>{\r\n        this.setState({\r\n            openPhoto:true,\r\n            imageDetails:video,\r\n            isImage:false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { user } = this.props.auth;\r\n        const { allPosts } = this.props.post;\r\n        const picturePost = allPosts.filter(post => post.images && post.images.length > 0)\r\n        .map(post => {\r\n            return post.images.map(image => {\r\n                return {\r\n                    _id: post._id,\r\n                    image: image.imageUrl,\r\n                    createdBy: post.createdBy,\r\n                    comments: post.comments,\r\n                    like: post.like,\r\n                    profileImage: post.profileImage,\r\n                    userName: post.userName\r\n                }\r\n            })\r\n        }).flat(1);\r\n        const videoPost = allPosts.filter(post => post.videos && post.videos.length > 0)\r\n        .map(post => {\r\n            return post.videos.map(image => {\r\n                return {\r\n                    _id: post._id,\r\n                    video: image.videoUrl,\r\n                    createdBy: post.createdBy,\r\n                    comments: post.comments,\r\n                    like: post.like,\r\n                    profileImage: post.profileImage,\r\n                    userName: post.userName\r\n                }\r\n            })\r\n        }).flat(1);\r\n        return (\r\n            <div className={classes.photos}>\r\n                <div className={classes.photosHeader}>\r\n                    <h3 className={classes.headerContent}>\r\n                        <Icon>\r\n                            <CameraIcon className={classes.cameraIcon} />\r\n                        </Icon>\r\n                        <Link to={`/${user.userName}/photos`}>Photos</Link>\r\n                    </h3>\r\n                </div>\r\n                <div className={classes.pictureGrid}>\r\n                    <GridList className={classes.gridList} cols={4}>\r\n                        {picturePost.map(post => (\r\n                            <GridListTile key={post._id} cols={1}>\r\n                                <img onError={(e) => { e.target.src='images/404.png' }} onClick={()=>this.onPhotoClick(post)} src={post.image} />\r\n                            </GridListTile>\r\n                        ))}\r\n                        {videoPost.map(post => (\r\n                            <GridListTile key={post._id} cols={1}>\r\n                                <video onError={(e) => { e.target.src='images/404.png' }} onClick={()=>this.onVideoClick(post)} src={post.video} />\r\n                            </GridListTile>\r\n                        ))}\r\n                    </GridList>\r\n                    {(this.state.openPhoto) \r\n                    ? <Photo \r\n                    isImage={this.state.isImage}\r\n                    openPhoto={this.state.openPhoto} \r\n                    imageDetails={this.state.imageDetails} \r\n                    onclose={()=>this.setState({openPhoto:false})} /> \r\n                    : null}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    post: state.post,\r\n    profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps)(withStyles(useStyles)(withRouter(Photos)));\r\n","import React, { Component } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Route, Link, withRouter } from 'react-router-dom';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CameraIcon from '@material-ui/icons/Camera';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport { connect } from 'react-redux';\r\nimport { uploadPhoto } from '../../actions/profileActions';\r\nimport { setTimeLineUser } from '../../actions/profileActions';\r\nimport { likePost, clearAllPosts } from '../../actions/postActions';\r\nimport TimeLine from './TimeLine';\r\nimport About from './About';\r\nimport Friends from './Friends';\r\nimport Photos from './Photos';\r\nimport axios from 'axios';\r\n\r\nconst useStyles = theme => ({\r\n    timeline: {\r\n        width: '85%',\r\n        marginLeft: '5%',\r\n        marginTop: '50px'\r\n    },\r\n    timeLineCover: {\r\n        borderRadius: '2px'\r\n    },\r\n    coverPhoto: {\r\n        width: '100%',\r\n        height: 'auto',\r\n        \"& > img\": {\r\n            width: '100%',\r\n            height: '400px',\r\n            border: '1px solid #888888',\r\n            boxShadow: '1px 1px #888888',\r\n        }\r\n    },\r\n    profilePicture: {\r\n        transform: 'translate(-35%,-80%)',\r\n        position: 'absolute',\r\n        left: '10%',\r\n        \"& img\": {\r\n            padding: theme.spacing(0.25, 0.25),\r\n            width: '200px',\r\n            height: '200px',\r\n            borderRadius: '50%',\r\n            border: '2px solid #fff',\r\n            background: '#fff',\r\n            zIndex: 100\r\n        }\r\n    },\r\n    uploadPhotoDiv: {\r\n        bottom: '10px',\r\n        left: '5px',\r\n        overflow: 'hidden',\r\n        width: '200px',\r\n        position: 'absolute',\r\n    },\r\n    updatePhoto: {\r\n        background: 'linear-gradient( transparent, rgba(0, 0, 0, .6) 0%, rgba(0, 0, 0, .6) 100% )',\r\n        width: '100%',\r\n        borderBottomLeftRadius: '90px',\r\n        borderBottomRightRadius: '90px',\r\n        height: '90px',\r\n        textAlign: 'center',\r\n        color: '#fff',\r\n        cursor: 'pointer',\r\n        transition: '0.3s'\r\n    },\r\n    uploadImageInput: {\r\n        display: 'none'\r\n    },\r\n    timeLineNav: {\r\n        paddingLeft: '30%',\r\n        borderRadius: 'none',\r\n        background: '#fff'\r\n    },\r\n    navList: {\r\n        margin: 0,\r\n        padding: 0,\r\n        display: 'flex',\r\n        listStyleType: 'none',\r\n        borderLeft: '1px solid #e9eaed',\r\n    },\r\n    listItem: {\r\n        borderRight: '1px solid #e9eaed',\r\n        height: '43px',\r\n        lineHeight: 3.05,\r\n        padding: '17px 17px',\r\n        position: 'relative',\r\n        verticalAlign: 'middle',\r\n        whiteSpace: 'nowrap',\r\n        color: '#385898',\r\n        cursor: 'pointer',\r\n        textDecoration: 'none',\r\n        fontSize: '16px',\r\n        fontWeight: 600\r\n    },\r\n    totalFriends: {\r\n        color: '#89919c',\r\n        fontSize: '11px',\r\n        fontWeight: 'normal',\r\n        paddingLeft: '6px',\r\n    },\r\n    pageDetails: {\r\n        marginTop: theme.spacing(2)\r\n    },\r\n    RightContent: {\r\n        marginLeft: '20px',\r\n        width: '120%'\r\n    },\r\n    photoGrid: {\r\n        marginTop: theme.spacing(2)\r\n    },\r\n    friendGrid: {\r\n        marginTop: theme.spacing(2)\r\n    },\r\n    actionContainer: {\r\n        width: '50%',\r\n        position: 'absolute'\r\n    },\r\n    interactingActions: {\r\n        position: 'absolute',\r\n        display: 'flex',\r\n        padding: '0px 12px',\r\n        bottom: '20px',\r\n        left: '30%',\r\n        \"& div a\": {\r\n            padding: '4px 16px',\r\n            background: '#e9eaed',\r\n            border: '1px solid #ccd0d5',\r\n            cursor: 'pointer'\r\n        }\r\n    },\r\n    otherActions: {\r\n        marginLeft: theme.spacing(1),\r\n        display: 'flex'\r\n    },\r\n    typography: {\r\n        padding: '8px 16px 4px 22px',\r\n        fontSize: '14px',\r\n    },\r\n    arrowFriend: {\r\n        content: \" \",\r\n        position: 'absolute',\r\n        left: '5%',\r\n        bottom: '100%',\r\n        borderWidth: '10px',\r\n        borderStyle: 'solid',\r\n        borderColor: 'transparent transparent white'\r\n    },\r\n    arrowFollow: {\r\n        content: \" \",\r\n        position: 'absolute',\r\n        right: '5%',\r\n        bottom: '100%',\r\n        borderWidth: '10px',\r\n        borderStyle: 'solid',\r\n        borderColor: 'transparent transparent white'\r\n    },\r\n    popperElement: {\r\n        zIndex: 50,\r\n        maxWidth: '300px',\r\n        minWidth: '192px',\r\n    },\r\n    popperContent: {\r\n        transform: 'translate3d(0, 11px, 0px)',\r\n        \"& p:hover\": {\r\n            color: '#fff',\r\n            background: '#385898',\r\n            cursor: 'pointer'\r\n        }\r\n    },\r\n    divider: {\r\n        borderBottom: '1px solid #ddd',\r\n        margin: '5px 7px 6px',\r\n        paddingTop: '1px'\r\n    },\r\n    postItems: {\r\n        marginTop: theme.spacing(5),\r\n        display: 'block',\r\n        width: '80%'\r\n    },\r\n    list: {\r\n        width: '100%',\r\n        maxWidth: 360,\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    inline: {\r\n        display: 'inline',\r\n    },\r\n    post: {\r\n        width: '100%'\r\n    },\r\n    actionsResult: {\r\n        padding: theme.spacing(1, 0),\r\n        display: 'flex',\r\n        maxWidth: '100%',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    actionsResultItem: {\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        padding: 0,\r\n    },\r\n    actionsList: {\r\n        padding: theme.spacing(1, 2),\r\n        display: 'flex',\r\n        maxWidth: '100%',\r\n        backgroundColor: theme.palette.background.paper,\r\n        justifyContent: 'space-around'\r\n    },\r\n    actionItems: {\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        padding: theme.spacing(0, 2),\r\n        '&:hover': {\r\n            cursor: 'pointer'\r\n        }\r\n    },\r\n    actionIcons: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n        color: '#385898',\r\n    },\r\n    takeAction: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n        color: '#e9eaed'\r\n    },\r\n    likeResultIcon: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n    },\r\n    commentSection: {\r\n        marginTop: theme.spacing(1)\r\n    },\r\n    createComment: {\r\n        marginTop: theme.spacing(2)\r\n    },\r\n    comments: {\r\n        marginTop: theme.spacing(1)\r\n    },\r\n    divider: {\r\n        borderBottom: '1px solid #ddd',\r\n        margin: '5px 7px 6px',\r\n        paddingTop: '1px'\r\n    }\r\n});\r\n\r\nclass TimeLineContainer extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            isFriend: false,\r\n            isFollowing: false,\r\n            anchorE1: null,\r\n            anchorE2: null,\r\n            isUpload: false,\r\n            authUser: true,\r\n        }\r\n    }\r\n\r\n    handleFriendPopper = (event) => {\r\n        this.setState({\r\n            anchorE1: (this.state.anchorE1) ? null : event.currentTarget,\r\n            anchorE2: null\r\n        })\r\n    }\r\n\r\n    handleFollowPopper = (event) => {\r\n        this.setState({\r\n            anchorE2: (this.state.anchorE2) ? null : event.currentTarget,\r\n            anchorE1: null\r\n        })\r\n    }\r\n\r\n    handleMouseOutFriend = () => {\r\n        this.setState({ anchorE1: null, anchorE2: null })\r\n    }\r\n    handleMouseOutFollow = () => {\r\n        this.setState({ anchorE2: null, anchorE1: null })\r\n    }\r\n\r\n    uploadProfilePhoto = (event) => {\r\n        const { user } = this.props.auth;\r\n        const image = event.target.files[0];\r\n        const formData = new FormData();\r\n        formData.append('userId', user.id);\r\n        formData.append('images', image);\r\n        this.props.uploadPhoto(formData, user.userName)\r\n\r\n    }\r\n\r\n    sendFriendRequest(event, userId, tlUserId) {\r\n        event.target.innerHTML = \"Friend Request Sent\";\r\n        axios.post('/sendfriendrequest', {\r\n            userId: userId,\r\n            tlUserId: tlUserId\r\n        })\r\n            .then(result => {\r\n                console.log(result);\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { user } = this.props.auth;\r\n        const { timeLineUser } = this.props.profile;\r\n\r\n        var openFriend = Boolean(this.state.anchorE1);\r\n        var openFollow = Boolean(this.state.anchorE2);\r\n        const { friends } = this.props.profile;\r\n\r\n        let tlFriendStatus;\r\n        if (!timeLineUser.authUser && friends.length > 0) {\r\n            const friendStatus = friends.find(friend => friend.userName === user.userName);\r\n            tlFriendStatus = (friendStatus) ? friendStatus.status : -1;\r\n        }\r\n\r\n        return (\r\n            <div className={classes.timeline} >\r\n                <div className={classes.timeLineCover} >\r\n                    <div className={classes.coverPhoto} >\r\n                        <img src=\"images/Batman.jpg\" />\r\n                    </div>\r\n                    <div onMouseEnter={() => this.setState({ isUpload: true })}\r\n                        onMouseLeave={() => this.setState({ isUpload: false })} className={classes.profilePicture} >\r\n                        <a\r\n                            href=\"#\" >\r\n                            {(timeLineUser.profileImage) ? <img onError={(e) => { e.target.src = 'images/404.png' }} src={timeLineUser.profileImage} /> : <img src=\"images/blank.png\" />}\r\n                        </a>\r\n                        {(timeLineUser.authUser && this.state.isUpload) ? <div className={classes.uploadPhotoDiv}>\r\n                            <input onChange={this.uploadProfilePhoto} className={classes.uploadImageInput} id=\"icon-button-file\" type=\"file\" />\r\n                            <label htmlFor=\"icon-button-file\">\r\n                                <div className={classes.updatePhoto}>\r\n                                    <div className={classes.cameraIcon}>\r\n                                        <Icon><CameraIcon /></Icon>\r\n                                    </div>\r\n                                    Upload\r\n                            </div>\r\n                            </label>\r\n                        </div> : null}\r\n                    </div>\r\n                    <div className={classes.timeLineNav} >\r\n                        {(!timeLineUser.authUser) ?\r\n                            <div className={classes.actionContainer} >\r\n                                <div className={classes.interactingActions} >\r\n                                    <div >\r\n                                        {(tlFriendStatus && tlFriendStatus === 1) ?\r\n                                            <a onClick={this.handleFriendPopper}\r\n                                                variant=\"contained\"\r\n                                                color=\"default\" > Friends </a> :\r\n                                            (tlFriendStatus === 2) ?\r\n                                                <a variant=\"contained\"\r\n                                                    color=\"default\" >Friend Request Sent</a> :\r\n                                                <a onClick={(e) => this.sendFriendRequest(e, user.id, timeLineUser._id)} variant=\"contained\"\r\n                                                    color=\"default\" >Add Friend</a>\r\n                                        }\r\n                                        <Popper className={classes.popperElement}\r\n                                            anchorEl={this.state.anchorE1}\r\n                                            open={openFriend}\r\n                                            placement='bottom-start'\r\n                                            disablePortal={true}\r\n                                            modifiers={\r\n                                                {\r\n                                                    flip: {\r\n                                                        enabled: false,\r\n                                                    },\r\n                                                    preventOverflow: {\r\n                                                        enabled: false,\r\n                                                        boundariesElement: 'scrollParent',\r\n                                                    },\r\n                                                }\r\n                                            } >\r\n                                            <Paper className={classes.popperContent} >\r\n                                                <div className={classes.arrowFriend} > </div>\r\n                                                <Typography className={classes.typography} > Get Notifications </Typography>\r\n                                                <hr className={classes.divider} />\r\n                                                <Typography className={classes.typography} > Close Friends </Typography>\r\n                                                <hr className={classes.divider} />\r\n                                                <Typography className={classes.typography} > Unfriend </Typography>\r\n                                            </Paper>\r\n                                        </Popper>\r\n                                    </div>\r\n                                    <div className={classes.otherActions} >\r\n                                        <div> {\r\n                                            (this.state.isFollowing) ?\r\n                                                <a onClick={this.handleFollowPopper}\r\n                                                    variant=\"contained\"\r\n                                                    color=\"default\" > Following </a> :\r\n                                                <a variant=\"contained\"\r\n                                                    color=\"default\" > Follow </a>\r\n                                        }\r\n\r\n                                            <Popper className={classes.popperElement}\r\n                                                anchorEl={this.state.anchorE2}\r\n                                                open={openFollow}\r\n                                                placement='bottom-end'\r\n                                                disablePortal={true}\r\n                                                modifiers={\r\n                                                    {\r\n                                                        flip: {\r\n                                                            enabled: false,\r\n                                                        },\r\n                                                        preventOverflow: {\r\n                                                            enabled: false,\r\n                                                            boundariesElement: 'scrollParent',\r\n                                                        },\r\n                                                    }\r\n                                                } >\r\n                                                <Paper className={classes.popperContent} >\r\n                                                    <div className={classes.arrowFollow} > </div>\r\n                                                    <Typography className={classes.typography} > See First </Typography>\r\n                                                    <hr className={classes.divider} />\r\n                                                    <Typography className={classes.typography} > Default </Typography>\r\n                                                    <hr className={classes.divider} />\r\n                                                    <Typography className={classes.typography} > Unfollow </Typography>\r\n                                                </Paper>\r\n                                            </Popper>\r\n                                        </div>\r\n                                        <div>\r\n                                            <a variant=\"contained\"\r\n                                                color=\"default\" > Message </a>\r\n                                            <a variant=\"contained\"\r\n                                                color=\"default\" > ... </a>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div> :\r\n                            null}\r\n                        <ul className={classes.navList} >\r\n                            <li> < Link to={`/${timeLineUser.userName}`}\r\n                                className={classes.listItem} > TimeLine </Link></li >\r\n                            <li> <Link to={`/${timeLineUser.userName}/about`}\r\n                                className={classes.listItem} > About </Link></li >\r\n                            <li> <Link to={`/${timeLineUser.userName}/friends`}\r\n                                className={classes.listItem} > Friends <span className={classes.totalFriends} > {friends.length} </span></Link >\r\n                            </li>\r\n                            <li> <Link to={`/${timeLineUser.userName}/photos`}\r\n                                className={classes.listItem} > Photos </Link></li >\r\n                            <li> <Link to=\"#\"\r\n                                className={classes.listItem} > Archive </Link></li >\r\n                            <li> <Link to=\"#\"\r\n                                className={classes.listItem} > More </Link></li >\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <Route exact path={`/${timeLineUser.userName}/`} component={TimeLine} />\r\n                <Route exact path={`/${timeLineUser.userName}/about`} component={About} />\r\n                <Route exact path={`/${timeLineUser.userName}/friends`} component={Friends} />\r\n                <Route exact path={`/${timeLineUser.userName}/photos`} component={Photos} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    post: state.post,\r\n    profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps, { uploadPhoto, setTimeLineUser, likePost, clearAllPosts })(withStyles(useStyles)(withRouter(TimeLineContainer)));","import React, { Component } from 'react';\r\nimport { withStyles } from '@material-ui/core';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Input from '@material-ui/core/Input';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\nimport { SEND_MESSAGE, PRIVATE_CHAT_MESSAGE } from '../../actions/Types';\r\n\r\nconst useStyles = theme => ({\r\n    chatBoxMain: {\r\n        position: 'fixed',\r\n        minWidth: \"20%\",\r\n        transform: \"translate(-100%)\",\r\n        bottom: 0\r\n    },\r\n    chatBox: {\r\n        padding: theme.spacing(3, 2),\r\n        height: '300px',\r\n        width: '100%',\r\n    },\r\n    topBar: {\r\n        padding: theme.spacing(1, 2),\r\n        display: 'flex',\r\n        width: '100%',\r\n        height: 'auto',\r\n        background: '#fff',\r\n        borderBottom: '1px solid #b2b9c9',\r\n        boxShadow: 'inset 2px 0 2px -2px #b2b9c9',\r\n        justifyContent: 'space-between'\r\n    },\r\n    userInfo: {\r\n        display: 'flex',\r\n        \"& img, & p\": {\r\n            padding: \"0 16px\"\r\n        }\r\n    },\r\n    close: {\r\n        cursor: 'pointer'\r\n    },\r\n    chatWindow: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '250px',\r\n        overflowY: 'scroll'\r\n    },\r\n    sendMessageFooter: {\r\n        width: '100%',\r\n        marginTop: theme.spacing(2),\r\n        borderTop: '1px solid #e9ebee',\r\n    },\r\n    msgLeft: {\r\n        position: 'relative',\r\n        minHeight: '10px',\r\n        marginBottom: '15%',\r\n        wordBreak: 'break-all',\r\n        textAlign: 'left',\r\n        maxWidth: '50%',\r\n        fontSize: '11px',\r\n        \"& p\": {\r\n            background: '#e2e2e2',\r\n            borderRadius: '45px',\r\n            padding: '0 16px',\r\n            fontSize: '15px',\r\n            lineHeight: '1.2em'\r\n        }\r\n    },\r\n    msgRight: {\r\n        position: 'relative',\r\n        minHeight: '10px',\r\n        wordBreak: 'break-all',\r\n        marginBottom: '15%',\r\n        marginLeft: '50%',\r\n        textAlign: 'left',\r\n        maxWidth: '50%',\r\n        color: '#fff',\r\n        fontSize: '11px',\r\n        \"& p\": {\r\n            background: '#2072f7',\r\n            borderRadius: '45px',\r\n            padding: '0 16px',\r\n            fontSize: '15px',\r\n            lineHeight: '1.2em'\r\n        }\r\n    }\r\n})\r\n\r\nclass ChatBox extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            open: false,\r\n            chatMessage: '',\r\n            allMessages: [],\r\n            socket: null\r\n        };\r\n        this.messagesEndRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { socket } = this.props.auth;\r\n        this.setState({ socket: socket });\r\n        const { user } = this.props.auth;\r\n        const friend = this.props.friend.user;\r\n        this.scrollToBottom();\r\n        axios.post('/getchat', {\r\n            userId: user.id,\r\n            friendId: friend._id\r\n        })\r\n            .then(result => {\r\n                this.setState({ allMessages: result.data });\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n    scrollToBottom = () => {\r\n        this.messagesEndRef.current.scrollIntoView({ behaviour: 'smooth' })\r\n    }\r\n\r\n    sendMessage = (event) => {\r\n        const { user } = this.props.auth;\r\n        const friend = this.props.friend.user;\r\n        const sender = user.id;\r\n        const reciever = friend._id;\r\n        if (event.key === 'Enter' && this.state.chatMessage.length > 0) {\r\n            axios.post('/sendmessage', {\r\n                message: this.state.chatMessage,\r\n                sender,\r\n                reciever\r\n            })\r\n                .then(res => {\r\n                    const result = res.data;\r\n                    // var updatedMessages = [...this.state.allMessages];\r\n                    // this.setState({ allMessages: updatedMessages.concat(result) });\r\n                    this.state.socket.emit('check-message', { sender, reciever, result });\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                });\r\n\r\n            this.setState({ chatMessage: '' });\r\n        }\r\n    }\r\n\r\n    componentWillUpdate(prevProps, prevState) {\r\n        const { user } = prevProps.auth;\r\n        const friend = prevProps.friend.user;\r\n\r\n        if (prevState.allMessages !== this.state.allMessages) {\r\n            this.state.socket.once(PRIVATE_CHAT_MESSAGE, result => {\r\n                var updatedMessages = [...this.state.allMessages];\r\n                this.setState({ allMessages: updatedMessages.concat(result) });\r\n            });\r\n            this.scrollToBottom();\r\n        }\r\n        if (this.props.friend.user !== prevProps.friend.user) {\r\n            axios.post('/getchat', {\r\n                userId: user.id,\r\n                friendId: friend._id\r\n            })\r\n                .then(result => {\r\n                    this.setState({ allMessages: result.data });\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { user } = this.props.friend;\r\n        const userId = this.props.auth.user.id;\r\n        let sortedMessages = (this.state.allMessages) ? this.state.allMessages.sort((a, b) => a.createdAt < b.createdAt ? -1 : 1) : [];\r\n\r\n        return (\r\n            <div className={classes.chatBoxMain}>\r\n                <div className={classes.topBar}>\r\n                    <div className={classes.userInfo}>\r\n                        <Avatar onError={(e) => { e.target.src = 'images/404.png' }} alt={user.name} src={(user.profileImage) ? user.profileImage : 'images/blank.png'} />\r\n                        <Typography component=\"p\">{user.name}</Typography>\r\n                    </div>\r\n                    <div><CloseIcon className={classes.close} onClick={this.props.click.bind(this)} /></div>\r\n                </div>\r\n                <Paper className={classes.chatBox}>\r\n                    <div className={classes.chatWindow}>\r\n                        {sortedMessages.map(message =>\r\n                            (message.from._id === userId) ?\r\n                                <div key={message._id} className={classes.msgRight}>\r\n                                    <Typography component=\"p\">{message.message}</Typography>\r\n                                </div> :\r\n                                <div key={message._id} className={classes.msgLeft}>\r\n                                    <Typography component=\"p\">{message.message}</Typography>\r\n                                </div>\r\n                        )}\r\n\r\n                        <div ref={this.messagesEndRef} />\r\n                    </div>\r\n                    <div className={classes.sendMessageFooter}>\r\n                        <Input className={classes.textBox}\r\n                            placeholder=\"Enter you message...\"\r\n                            fullWidth\r\n                            disableUnderline={true}\r\n                            onChange={(e) => this.setState({ chatMessage: e.target.value })}\r\n                            onKeyPress={this.sendMessage}\r\n                            value={this.state.chatMessage}\r\n                        />\r\n                    </div>\r\n                </Paper>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps)(withStyles(useStyles)(ChatBox));\r\n","import React, { Component } from 'react';\r\nimport { withStyles } from '@material-ui/core';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ChatBox from './ChatBox';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nconst useStyles = theme => ({\r\n    sideNav: {\r\n        position: 'fixed',\r\n        marginTop: '50px'\r\n    },\r\n    userList: {\r\n        width: \"100%\",\r\n        padding: theme.spacing(3, 2),\r\n        marginLeft: \"30%\",\r\n        borderLeft: '1px solid #6b6c70',\r\n        borderRadius: 0,\r\n        background: \"url('images/bgImage.png')\",\r\n        boxShadow: 'inset 2px 0 2px -2px #b2b9c9',\r\n        lineHeight: '16px',\r\n        height: '100vh'\r\n    },\r\n    contactsHeader: {\r\n        textAlign: 'left',\r\n        fontWeight: 'bold',\r\n        fontSize: '14px',\r\n        height: '16px',\r\n        color: '#4a4a4a',\r\n    },\r\n    online: {\r\n        color: 'green'\r\n    },\r\n});\r\n\r\nclass UserList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: false,\r\n            friendsList: [],\r\n            friend: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const userId = this.props.auth.user.id;\r\n        axios.post('/getchatfriends', { userId: userId })\r\n            .then(result => {\r\n                this.setState({ friendsList: result.data })\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n    openModal = (friend) => {\r\n        this.setState({ open: true, friend: friend });\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ open: false })\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { friendsList } = this.state;\r\n        return (\r\n            <div className={classes.sideNav}>\r\n                <Paper className={classes.userList}>\r\n                    <Typography className={classes.contactsHeader}>Contacts</Typography>\r\n                    <List component=\"nav\" aria-label=\"Secondary mailbox folders\">\r\n                        {(friendsList) ? friendsList.map(friend => (\r\n                            <ListItem key={friend.user._id} button onClick={() => this.openModal(friend)}>\r\n                                <ListItemAvatar>\r\n                                    <Avatar onError={(e) => { e.target.src = 'images/404.png' }} onError={(e) => { e.target.src='images/404.png' }} alt={friend.user.name} src={(friend.user.profileImage) ? friend.user.profileImage : 'images/blank.png'} />\r\n                                </ListItemAvatar>\r\n                                <ListItemText primary={friend.user.name} />\r\n                                {/* <Badge color=\"primary\" variant=\"dot\"></Badge> */}\r\n                            </ListItem>\r\n                        )) :\r\n                            null}\r\n\r\n                    </List>\r\n\r\n                </Paper>\r\n\r\n                {(this.state.open) ? <ChatBox friend={this.state.friend} click={this.closeModal} /> : null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n})\r\n\r\nexport default connect(mapStateToProps)(withStyles(useStyles)(UserList));\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Navigation from '../../common/Navigation';\r\nimport TimeLineContainer from './TimeLineContainer';\r\nimport UserList from '../chat/UserList';\r\nimport { setTimeLineUser } from '../../actions/profileActions';\r\n\r\nclass TimeLinePage extends Component {\r\n  componentDidMount() {\r\n    const { isAuthenticated, user } = this.props.auth;\r\n    if (!isAuthenticated) {\r\n      this.props.history.replace('/auth');\r\n    }\r\n    else {\r\n      const userName = this.props.match.params.userName;\r\n      this.props.setTimeLineUser(userName, user.userName);\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    const { isAuthenticated, user } = this.props.auth;\r\n    if (isAuthenticated != prevProps.auth.isAuthenticated) {\r\n      if (!this.props.auth.isAuthenticated) {\r\n        this.props.history.replace('/auth');\r\n      }\r\n    }\r\n    else {\r\n      if (prevProps.match.params.userName != this.props.match.params.userName) {\r\n        const userName = this.props.match.params.userName;\r\n        this.props.setTimeLineUser(userName, user.userName);\r\n      }\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Grid item xs={12}>\r\n          <Navigation />\r\n        </Grid>\r\n        <Grid item xs={9}>\r\n          <TimeLineContainer />\r\n        </Grid>\r\n        <Grid item xs={3}>\r\n          <UserList />\r\n        </Grid>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  post: state.post,\r\n  profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps,{setTimeLineUser})(TimeLinePage);\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport Comments from './Comments';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    expansion: {\r\n        padding: 0\r\n    }\r\n}));\r\n\r\nfunction CommentContainer(props) {\r\n    const { comments } = props;\r\n    const classes = useStyles();\r\n    const commentsInPanel = comments.map((comment, i) => {\r\n        if (i === 0) {\r\n            return <ExpansionPanelSummary\r\n                className={classes.expansion}\r\n                expandIcon={<ExpandMoreIcon />}\r\n                aria-controls=\"panel1c-content\"\r\n                id=\"panel1c-header\">\r\n                <Comments key={comment._id} comment={comment} />\r\n            </ExpansionPanelSummary>\r\n        }\r\n        else {\r\n            return <ExpansionPanelDetails className={classes.expansion}>\r\n                <Comments key={comment._id} comment={comment} />\r\n            </ExpansionPanelDetails>\r\n        }\r\n    });\r\n    return (\r\n        <ExpansionPanel>\r\n            {commentsInPanel}\r\n        </ExpansionPanel>\r\n    )\r\n}\r\n\r\nexport default CommentContainer;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    wrapper: {\r\n        background: '#fff',\r\n        height: 'auto',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        marginTop: theme.spacing(5),\r\n        width: '80%',\r\n        justifyContent: 'space-around'\r\n    },\r\n\r\n    wrapperCell: {\r\n        display: 'flex',\r\n        padding: '10px'\r\n    },\r\n\r\n    // Animation\r\n    '@keyframes placeHolderShimmer': {\r\n        from: {\r\n            backgroundPosition: '-300px 0'\r\n        },\r\n        to: {\r\n            backgroundPosition: '300px 0'\r\n        }\r\n    },\r\n\r\n    animatedBackground: {\r\n        animationDuration: '1.25s',\r\n        animationFillMode: 'forwards',\r\n        animationIterationCount: 'infinite',\r\n        animationName: '$placeHolderShimmer',\r\n        animationTimingFunction: 'linear',\r\n        background: '#F6F6F6',\r\n        background: 'linear-gradient(to right, #c7d1c9 8%, #e6ebe7 18%, #dfe6e0 33%)',\r\n        backgroundSize: '800px 104px',\r\n        height: '96px',\r\n        position: 'relative',\r\n    },\r\n\r\n    // Page Elements\r\n    image: {\r\n        height: '50px',\r\n        width: '50px',\r\n        borderRadius: '50%',\r\n        margin: '10px 10px',\r\n        animationDuration: '1.25s',\r\n        animationFillMode: 'forwards',\r\n        animationIterationCount: 'infinite',\r\n        animationName: '$placeHolderShimmer',\r\n        animationTimingFunction: 'linear',\r\n        background: '#F6F6F6',\r\n        background: 'linear-gradient(to right, #c7d1c9 8%, #e6ebe7 18%, #dfe6e0 33%)',\r\n        backgroundSize: '800px 104px',\r\n        position: 'relative',\r\n    },\r\n\r\n    text: {\r\n        width: '100%'\r\n    },\r\n\r\n    textLine: {\r\n        height: '18px',\r\n        width: '90%',\r\n        //  background: #F6F6F6,\r\n        margin: '10px 10px',\r\n        animationDuration: '1.25s',\r\n        animationFillMode: 'forwards',\r\n        animationIterationCount: 'infinite',\r\n        animationName: '$placeHolderShimmer',\r\n        animationTimingFunction: 'linear',\r\n        background: '#F6F6F6',\r\n        background: 'linear-gradient(to right, #c7d1c9 8%, #e6ebe7 18%, #dfe6e0 33%)',\r\n        backgroundSize: '800px 104px',\r\n        position: 'relative',\r\n    }\r\n\r\n\r\n}))\r\n\r\nconst PresentationLoader = (props) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <div className={classes.wrapperCell}>\r\n                <div className={classes.image}></div>\r\n                <div className={classes.text}>\r\n                    <div className={classes.textLine}></div>\r\n                    <div className={classes.textLine}></div>\r\n                    <div className={classes.textLine}></div>\r\n                </div>\r\n            </div>\r\n            <div className={classes.text}>\r\n                <div className={classes.textLine}></div>\r\n                <div className={classes.textLine}></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PresentationLoader;\r\n","import React, { Component } from 'react';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport SinglePost from './SinglePost';\r\nimport CommentContainer from './comments/CommentContainer';\r\nimport CreateComment from './comments/CreateComment';\r\nimport { connect } from 'react-redux';\r\nimport { getFeed, likePost, clearAllPosts } from '../../actions/postActions';\r\nimport PostActions from '../../common/PostActions';\r\nimport PresentationLoader from '../../common/PresentationLoader';\r\nimport PostActionResult from '../../common/PostActionResult';\r\n\r\nconst useStyles = theme => ({\r\n    root: {\r\n        marginTop: theme.spacing(5),\r\n        display: 'block',\r\n        width: '80%'\r\n    },\r\n    list: {\r\n        width: '100%',\r\n        maxWidth: 360,\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    inline: {\r\n        display: 'inline',\r\n    },\r\n    post: {\r\n        width: '100%'\r\n    },\r\n    actionsResult: {\r\n        padding: theme.spacing(1, 0),\r\n        display: 'flex',\r\n        maxWidth: '100%',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    actionsResultItem: {\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        padding: 0,\r\n    },\r\n    actionsList: {\r\n        padding: theme.spacing(1, 2),\r\n        display: 'flex',\r\n        maxWidth: '100%',\r\n        backgroundColor: theme.palette.background.paper,\r\n        justifyContent: 'space-around'\r\n    },\r\n    actionItems: {\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        padding: theme.spacing(0, 2),\r\n        transition: 'all 0.5s',\r\n        '&:hover': {\r\n            cursor: 'pointer',\r\n            transform: 'scale(1.1)',\r\n            '& > *': {\r\n                color: '#385898',\r\n            }\r\n        },\r\n        '&:active': {\r\n            transform: 'scale(0.9)'\r\n        }\r\n    },\r\n    actionIcons: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n        color: '#385898'\r\n    },\r\n    takeAction: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n        color: '#e9eaed'\r\n    },\r\n    likeResultIcon: {\r\n        margin: theme.spacing(-0.5, 0.5),\r\n    },\r\n    commentSection: {\r\n        marginTop: theme.spacing(1)\r\n    },\r\n    createComment: {\r\n        marginTop: theme.spacing(2)\r\n    },\r\n    comments: {\r\n        marginTop: theme.spacing(1)\r\n    },\r\n    divider: {\r\n        borderBottom: '1px solid #ddd',\r\n        margin: '5px 7px 6px',\r\n        paddingTop: '1px'\r\n    }\r\n})\r\n\r\nclass Feed extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            start: 1,\r\n            count: 4\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.clearAllPosts();\r\n        const { start, count } = this.state;\r\n        const { id } = this.props.auth.user;\r\n        this.props.getFeed(id, start, count);\r\n    }\r\n\r\n    handleLike = (postId) => {\r\n        const { id } = this.props.auth.user;\r\n        this.props.likePost(postId, id);\r\n    }\r\n\r\n    fetchData = () => {\r\n        const { start, count } = this.state;\r\n        this.setState({ start: start + Math.ceil(count / 2) });\r\n        const { id } = this.props.auth.user;\r\n        this.props.getFeed(id, start + Math.ceil(count / 2), count); // total count 4 , 2 of user and 2 of friends\r\n    }\r\n\r\n    checkUserLike = (post, user) => {\r\n        return post.like && post.like.find(l => l.user === user.id);\r\n    }\r\n\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        let { allPosts, hasMorePosts } = this.props.post;\r\n        const { user } = this.props.auth;\r\n\r\n        return (\r\n            <div>\r\n                <InfiniteScroll\r\n                    dataLength={allPosts.length}\r\n                    next={this.fetchData}\r\n                    hasMore={hasMorePosts}\r\n                    pullDownToRefresh={true}\r\n                    refreshFunction={this.fetchData}\r\n                    loader={<PresentationLoader />}>\r\n                    {\r\n                        (allPosts) ? allPosts.map(post => (\r\n                            <Paper key={post._id} className={classes.root}>\r\n                                <List className={classes.list}>\r\n                                    <ListItem alignItems=\"flex-start\">\r\n                                        <ListItemAvatar>\r\n                                            <Avatar onError={(e) => { e.target.src = 'images/404.png' }} alt=\"Remy Sharp\" src={(post.createdBy.profileImage) ? post.createdBy.profileImage : 'images/blank.png'} />\r\n                                        </ListItemAvatar>\r\n                                        <ListItemText\r\n                                            primary={post.createdBy.name}\r\n                                        />\r\n                                    </ListItem >\r\n                                </List>\r\n                                <SinglePost post={post} />\r\n                                <div className={classes.actionsResult}>\r\n                                    <PostActionResult\r\n                                        actionsResultItem={classes.actionsResultItem}\r\n                                        likeResultIcon={classes.likeResultIcon}\r\n                                        like={post.like} />\r\n                                </div>\r\n                                <hr className={classes.divider} />\r\n                                <div className={classes.actionsList}>\r\n\r\n                                    <PostActions\r\n                                        actionItems={classes.actionItems}\r\n                                        actionIcons={classes.actionIcons}\r\n                                        takeAction={classes.takeAction}\r\n                                        postId={post._id}\r\n                                        post={post}\r\n                                        user={user}\r\n                                        handleLike={this.handleLike}\r\n                                        checkUserLike={this.checkUserLike}\r\n                                    />\r\n                                </div>\r\n                                <hr className={classes.divider} />\r\n                                <div className={classes.commentSection}>\r\n                                    <div className={classes.createComment}>\r\n                                        <CreateComment postId={post._id} />\r\n                                    </div>\r\n                                    <div className={classes.comments}>\r\n                                        {(post.comments && post.comments.length > 0) ?\r\n                                            <CommentContainer comments={post.comments} />\r\n                                            :\r\n                                            <p>No comments to show</p>}\r\n                                    </div>\r\n                                </div>\r\n                            </Paper>\r\n                        )) :\r\n                            <PresentationLoader />\r\n                    }\r\n                </InfiniteScroll>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    post: state.post\r\n})\r\n\r\nexport default connect(mapStateToProps, { getFeed, likePost, clearAllPosts })(withStyles(useStyles)(Feed));\r\n","import React, { Component } from 'react'\r\n\r\nclass ErrorBoundary extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            hasError: false\r\n        }\r\n    }\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n        this.setState({ hasError: true });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.hasError) {\r\n            return (\r\n                <div>\r\n                    <h1>\r\n                        Some Error Has Occurred\r\n                    </h1>\r\n                </div>\r\n            )\r\n        }\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","import React from 'react';\r\nimport CreatePost from './CreatePost';\r\nimport Feed from './Feed';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport ErrorBoundary from '../../common/ErrorBoundary';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        marginTop: '80px',\r\n        minHeight: '100vh'\r\n    }\r\n}));\r\n\r\nfunction DashBoard() {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <ErrorBoundary>\r\n            <div className={classes.root} >\r\n                <CreatePost />\r\n                <Feed />\r\n            </div>\r\n        </ErrorBoundary>\r\n    )\r\n}\r\n\r\nexport default DashBoard;\r\n","import React, { Component } from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Navigation from '../common/Navigation';\r\nimport DashBoard from './posts/DashBoard';\r\nimport UserList from './chat/UserList';\r\n\r\nfunction HomePage() {\r\n  return (\r\n    <React.Fragment>\r\n      <Grid item xs={12}>\r\n        <Navigation />\r\n      </Grid>\r\n      <Grid item xs={3}>\r\n\r\n      </Grid>\r\n      <Grid item xs={6}>\r\n        <DashBoard />\r\n      </Grid>\r\n      <Grid item xs={2}>\r\n        <UserList />\r\n      </Grid>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default HomePage;\r\n","import React, { Component } from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Auth from './components/auth/Auth';\r\nimport PrivateRoute from './utils/PrivateRoute';\r\nimport TimeLinePage from './components/timeline/TimeLinePage';\r\nimport HomePage from './components/HomePage';\r\n\r\nconst useStyles = theme => ({\r\n  root: {\r\n    background: \"url('/images/bgImage.png') fixed\",\r\n    height: '100%'\r\n  },\r\n});\r\n\r\nclass App extends Component {\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <BrowserRouter>\r\n        <div className={classes.root}>\r\n          <Switch>\r\n            <Route path=\"/auth\" component={Auth} />\r\n            <Grid container>\r\n              <PrivateRoute path=\"/:userName\" component={TimeLinePage} />\r\n              <PrivateRoute exact path=\"/\" component={HomePage} />\r\n            </Grid>\r\n          </Switch>\r\n        </div>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(useStyles)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { SET_AUTH_USER, SET_PROFILE_IMAGE, SOCKET_INIT } from '../actions/Types';\r\n\r\nconst initialState = {\r\n    isAuthenticated: false,\r\n    user: {},\r\n    socket: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER:\r\n            return {\r\n                ...state,\r\n                isAuthenticated: !(Object.entries(action.payload).length === 0 && action.payload.constructor === Object),\r\n                user: action.payload\r\n            }\r\n\r\n        case SET_PROFILE_IMAGE:\r\n            const userUpdated = state.user;\r\n            userUpdated.profileImage = action.payload.profileImage\r\n            return {\r\n                ...state,\r\n                user: userUpdated\r\n            }\r\n\r\n        case SOCKET_INIT:\r\n            return {\r\n                ...state,\r\n                socket: action.payload\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default authReducer;","import { GET_FEED, SUBMIT_POST, GET_TIMELINE_FEED, CREATE_COMMENT, LIKE_COMMENT, CLEAR_POSTS } from '../actions/Types';\r\n\r\nconst initialState = {\r\n    allPosts: [],\r\n    timeLinePosts: [],\r\n    hasMorePosts: true\r\n}\r\n\r\nconst postReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case GET_FEED:\r\n            const allPosts = [...state.allPosts];\r\n            const { data, hasMorePosts } = action.payload;\r\n            return {\r\n                ...state,\r\n                allPosts: allPosts.concat(data),\r\n                hasMorePosts: hasMorePosts\r\n            }\r\n\r\n        case SUBMIT_POST:\r\n            return {\r\n                ...state,\r\n                allPosts: [action.payload, ...state.allPosts]\r\n            }\r\n\r\n        case GET_TIMELINE_FEED:\r\n            return {\r\n                ...state,\r\n                timeLinePosts: action.payload\r\n            }\r\n        case CREATE_COMMENT: {\r\n            const posts = [...state.allPosts];\r\n            const comment = action.payload;\r\n            posts.find(post => {\r\n                if (post._id === comment.post) {\r\n                    post.comments.push(comment)\r\n                }\r\n            })\r\n            return {\r\n                ...state,\r\n                allPosts: posts\r\n            }\r\n        }\r\n\r\n        case LIKE_COMMENT: {\r\n            const posts = [...state.allPosts];\r\n            posts.find(post => {\r\n                if (post._id === action.payload._id) {\r\n                    post.like = [...action.payload.like]\r\n                }\r\n            });\r\n            return {\r\n                ...state,\r\n                allPosts: posts\r\n            }\r\n\r\n        }\r\n\r\n        case CLEAR_POSTS: {\r\n            return {\r\n                ...state,\r\n                allPosts: action.payload\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default postReducer;\r\n","import {SET_TIMELINE_USER, GET_FRIENDS} from '../actions/Types';\r\n\r\nconst initialState={\r\n    timeLineUser:[],\r\n    friends:[],\r\n    socket:null\r\n}\r\n\r\nconst profileReducer=(state=initialState,action)=>{\r\n    switch(action.type){\r\n        case SET_TIMELINE_USER:\r\n            return{\r\n                ...state,\r\n                timeLineUser:action.payload\r\n            }\r\n\r\n        case GET_FRIENDS:\r\n            return{\r\n                ...state,\r\n                friends:action.payload\r\n            }\r\n\r\n        case 'SOCKET_CONNECT':\r\n            return{\r\n                ...state,\r\n                socket:action.payload\r\n            }\r\n\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport default profileReducer;","import { GET_ERRORS, CLEAR_ERRORS } from '../actions/Types';\r\n\r\nconst initialState = {};\r\n\r\nconst errorReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case GET_ERRORS:\r\n            return action.payload;\r\n\r\n        case CLEAR_ERRORS:\r\n            return {}\r\n\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport default errorReducer;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, combineReducers, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport jwt from 'jsonwebtoken';\r\nimport authReducer from './reducers/authReducer';\r\nimport postReducer from './reducers/postReducer';\r\nimport profileReducer from './reducers/profileReducer';\r\nimport errorReducer from './reducers/errorReducer';\r\nimport { setCurrentUser, logout, socketInit } from './actions/authActions';\r\n\r\n\r\nconst middleware = [thunk];\r\n\r\nconst rootReducer = combineReducers({\r\n    auth: authReducer,\r\n    post: postReducer,\r\n    profile: profileReducer,\r\n    error: errorReducer\r\n})\r\n\r\nconst initialState = {}\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    initialState,\r\n    (process.env.NODE_ENV === 'production')\r\n        ? compose(\r\n            applyMiddleware(...middleware)\r\n        )\r\n        :\r\n        (window.__REDUX_DEVTOOLS_EXTENSION__)\r\n            ? compose(\r\n                applyMiddleware(...middleware),\r\n                window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n            )\r\n            : compose(\r\n                applyMiddleware(...middleware)\r\n            )\r\n)\r\n\r\nif (localStorage.getItem('token')) {\r\n    var token = localStorage.getItem('token');\r\n    try {\r\n        var decodedToken = jwt.verify(token.substring(7), 'secret');\r\n        store.dispatch(setCurrentUser(decodedToken));\r\n        store.dispatch(socketInit());\r\n    }\r\n    catch (error) {\r\n        store.dispatch(logout());\r\n        window.location.href = \"/auth\";\r\n    }\r\n}\r\n\r\nconst app = (\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>\r\n)\r\n\r\nReactDOM.render(app, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}